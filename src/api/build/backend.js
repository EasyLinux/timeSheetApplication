require("source-map-support").install();
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	eval("/* WEBPACK VAR INJECTION */(function(__dirname) {// NOTES:\n// - Tutorial: https://scotch.io/tutorials/easy-node-authentication-setup-and-local#application-setup-server-js\n\n'use strict';\n\nvar express = __webpack_require__(1);\nvar app = express();\nvar port = process.env.PORT || 3000;\nvar passport = __webpack_require__(2);\nvar flash = __webpack_require__(3);\n\nvar morgan = __webpack_require__(4);\nvar bodyParser = __webpack_require__(5);\nvar session = __webpack_require__(6);\n\napp.use(express.static(__dirname + '/../app/public'));\napp.use('/bower_components', express.static(__dirname + '/../app/bower_components'));\napp.use('/templates', express.static(__dirname + '/../app/templates'));\n\nvar configDB = __webpack_require__(7);\n\napp.use(morgan('dev'));\napp.use(bodyParser.urlencoded({ extended: false }));\napp.use(bodyParser.json());\n\n//passport setup\napp.use(session({ secret: 'E4393BD8F59EA85B3BC912CF4772E',\n  saveUninitialized: true,\n  resave: true,\n  cookie: { httpOnly: true, maxAge: 60 * 60 * 1000 }\n}));\napp.use(passport.initialize());\napp.use(passport.session());\n\n//passport setup\n__webpack_require__(8)(passport);\n//routes\n__webpack_require__(15)(app, passport);\n\nvar server = app.listen(port, '127.0.0.1', function () {\n  var host = server.address().address;\n  var port = server.address().port;\n  console.log('App listening at http://%s:%s', host, port);\n});\n/* WEBPACK VAR INJECTION */}.call(exports, \"src/api\"))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL3NlcnZlci5qcz8xZDk2Il0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiYXBwIiwicG9ydCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwicGFzc3BvcnQiLCJmbGFzaCIsIm1vcmdhbiIsImJvZHlQYXJzZXIiLCJzZXNzaW9uIiwidXNlIiwic3RhdGljIiwiX19kaXJuYW1lIiwiY29uZmlnREIiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJqc29uIiwic2VjcmV0Iiwic2F2ZVVuaW5pdGlhbGl6ZWQiLCJyZXNhdmUiLCJjb29raWUiLCJodHRwT25seSIsIm1heEFnZSIsImluaXRpYWxpemUiLCJzZXJ2ZXIiLCJsaXN0ZW4iLCJob3N0IiwiYWRkcmVzcyIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7O0FBRUEsSUFBSUEsVUFBVSxtQkFBQUMsQ0FBUSxDQUFSLENBQWQ7QUFDQSxJQUFJQyxNQUFNRixTQUFWO0FBQ0EsSUFBSUcsT0FBT0MsUUFBUUMsR0FBUixDQUFZQyxJQUFaLElBQW9CLElBQS9CO0FBQ0EsSUFBSUMsV0FBVyxtQkFBQU4sQ0FBUSxDQUFSLENBQWY7QUFDQSxJQUFJTyxRQUFRLG1CQUFBUCxDQUFRLENBQVIsQ0FBWjs7QUFFQSxJQUFJUSxTQUFTLG1CQUFBUixDQUFRLENBQVIsQ0FBYjtBQUNBLElBQUlTLGFBQWEsbUJBQUFULENBQVEsQ0FBUixDQUFqQjtBQUNBLElBQUlVLFVBQVUsbUJBQUFWLENBQVEsQ0FBUixDQUFkOztBQUVBQyxJQUFJVSxHQUFKLENBQVFaLFFBQVFhLE1BQVIsQ0FBZUMsWUFBWSxnQkFBM0IsQ0FBUjtBQUNBWixJQUFJVSxHQUFKLENBQVEsbUJBQVIsRUFBOEJaLFFBQVFhLE1BQVIsQ0FBZUMsWUFBWSwwQkFBM0IsQ0FBOUI7QUFDQVosSUFBSVUsR0FBSixDQUFRLFlBQVIsRUFBdUJaLFFBQVFhLE1BQVIsQ0FBZUMsWUFBWSxtQkFBM0IsQ0FBdkI7O0FBRUEsSUFBSUMsV0FBVyxtQkFBQWQsQ0FBUSxDQUFSLENBQWY7O0FBRUFDLElBQUlVLEdBQUosQ0FBUUgsT0FBTyxLQUFQLENBQVI7QUFDQVAsSUFBSVUsR0FBSixDQUFRRixXQUFXTSxVQUFYLENBQXNCLEVBQUVDLFVBQVUsS0FBWixFQUF0QixDQUFSO0FBQ0FmLElBQUlVLEdBQUosQ0FBUUYsV0FBV1EsSUFBWCxFQUFSOztBQUVBO0FBQ0FoQixJQUFJVSxHQUFKLENBQVFELFFBQVEsRUFBRVEsUUFBUSwrQkFBVjtBQUNFQyxxQkFBbUIsSUFEckI7QUFFRUMsVUFBUSxJQUZWO0FBR0VDLFVBQVEsRUFBRUMsVUFBVSxJQUFaLEVBQWtCQyxRQUFRLEtBQUcsRUFBSCxHQUFNLElBQWhDO0FBSFYsQ0FBUixDQUFSO0FBS0F0QixJQUFJVSxHQUFKLENBQVFMLFNBQVNrQixVQUFULEVBQVI7QUFDQXZCLElBQUlVLEdBQUosQ0FBUUwsU0FBU0ksT0FBVCxFQUFSOztBQUVBO0FBQ0EsbUJBQUFWLENBQVEsQ0FBUixFQUFtQ00sUUFBbkM7QUFDQTtBQUNBLG1CQUFBTixDQUFRLEVBQVIsRUFBcUNDLEdBQXJDLEVBQTBDSyxRQUExQzs7QUFFQSxJQUFJbUIsU0FBU3hCLElBQUl5QixNQUFKLENBQVd4QixJQUFYLEVBQWlCLFdBQWpCLEVBQThCLFlBQVk7QUFDckQsTUFBSXlCLE9BQU9GLE9BQU9HLE9BQVAsR0FBaUJBLE9BQTVCO0FBQ0EsTUFBSTFCLE9BQU91QixPQUFPRyxPQUFQLEdBQWlCMUIsSUFBNUI7QUFDQTJCLFVBQVFDLEdBQVIsQ0FBWSwrQkFBWixFQUE2Q0gsSUFBN0MsRUFBbUR6QixJQUFuRDtBQUNELENBSlksQ0FBYixDIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBOT1RFUzpcbi8vIC0gVHV0b3JpYWw6IGh0dHBzOi8vc2NvdGNoLmlvL3R1dG9yaWFscy9lYXN5LW5vZGUtYXV0aGVudGljYXRpb24tc2V0dXAtYW5kLWxvY2FsI2FwcGxpY2F0aW9uLXNldHVwLXNlcnZlci1qc1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xudmFyIGFwcCA9IGV4cHJlc3MoKTtcbnZhciBwb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCAzMDAwO1xudmFyIHBhc3Nwb3J0ID0gcmVxdWlyZSgncGFzc3BvcnQnKTtcbnZhciBmbGFzaCA9IHJlcXVpcmUoJ2Nvbm5lY3QtZmxhc2gnKTtcblxudmFyIG1vcmdhbiA9IHJlcXVpcmUoJ21vcmdhbicpO1xudmFyIGJvZHlQYXJzZXIgPSByZXF1aXJlKCdib2R5LXBhcnNlcicpO1xudmFyIHNlc3Npb24gPSByZXF1aXJlKCdleHByZXNzLXNlc3Npb24nKTtcblxuYXBwLnVzZShleHByZXNzLnN0YXRpYyhfX2Rpcm5hbWUgKyAnLy4uL2FwcC9wdWJsaWMnKSk7XG5hcHAudXNlKCcvYm93ZXJfY29tcG9uZW50cycsICBleHByZXNzLnN0YXRpYyhfX2Rpcm5hbWUgKyAnLy4uL2FwcC9ib3dlcl9jb21wb25lbnRzJykpO1xuYXBwLnVzZSgnL3RlbXBsYXRlcycsICBleHByZXNzLnN0YXRpYyhfX2Rpcm5hbWUgKyAnLy4uL2FwcC90ZW1wbGF0ZXMnKSk7XG5cbnZhciBjb25maWdEQiA9IHJlcXVpcmUoJy4vc2VydmVyQ29uZmlnL2RhdGFiYXNlLmpzJyk7XG5cbmFwcC51c2UobW9yZ2FuKCdkZXYnKSk7XG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSk7XG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcblxuLy9wYXNzcG9ydCBzZXR1cFxuYXBwLnVzZShzZXNzaW9uKHsgc2VjcmV0OiAnRTQzOTNCRDhGNTlFQTg1QjNCQzkxMkNGNDc3MkUnLFxuICAgICAgICAgICAgICAgICAgc2F2ZVVuaW5pdGlhbGl6ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICByZXNhdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICBjb29raWU6IHsgaHR0cE9ubHk6IHRydWUsIG1heEFnZTogNjAqNjAqMTAwMCB9XG4gICAgICAgICAgICAgICAgfSkpO1xuYXBwLnVzZShwYXNzcG9ydC5pbml0aWFsaXplKCkpO1xuYXBwLnVzZShwYXNzcG9ydC5zZXNzaW9uKCkpO1xuXG4vL3Bhc3Nwb3J0IHNldHVwXG5yZXF1aXJlKCcuL3NlcnZlckNvbmZpZy9wYXNzcG9ydCcpKHBhc3Nwb3J0KTtcbi8vcm91dGVzXG5yZXF1aXJlKCcuL3NlcnZlck9iamVjdHMvcm91dGVzLmpzJykoYXBwLCBwYXNzcG9ydCk7XG5cbnZhciBzZXJ2ZXIgPSBhcHAubGlzdGVuKHBvcnQsICcxMjcuMC4wLjEnLCBmdW5jdGlvbiAoKSB7XG4gIHZhciBob3N0ID0gc2VydmVyLmFkZHJlc3MoKS5hZGRyZXNzO1xuICB2YXIgcG9ydCA9IHNlcnZlci5hZGRyZXNzKCkucG9ydDtcbiAgY29uc29sZS5sb2coJ0FwcCBsaXN0ZW5pbmcgYXQgaHR0cDovLyVzOiVzJywgaG9zdCwgcG9ydCk7XG59KTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcGkvc2VydmVyLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 1 */
/***/ function(module, exports) {

	eval("module.exports = require(\"express\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzXCI/ZDJkMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwiZXhwcmVzc1wiXG4gKiogbW9kdWxlIGlkID0gMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 2 */
/***/ function(module, exports) {

	eval("module.exports = require(\"passport\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXNzcG9ydFwiPzAzMzciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhc3Nwb3J0XCIpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJwYXNzcG9ydFwiXG4gKiogbW9kdWxlIGlkID0gMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 3 */
/***/ function(module, exports) {

	eval("module.exports = require(\"connect-flash\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjb25uZWN0LWZsYXNoXCI/NzFkMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29ubmVjdC1mbGFzaFwiKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwiY29ubmVjdC1mbGFzaFwiXG4gKiogbW9kdWxlIGlkID0gM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 4 */
/***/ function(module, exports) {

	eval("module.exports = require(\"morgan\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb3JnYW5cIj8xOWVmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb3JnYW5cIik7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcIm1vcmdhblwiXG4gKiogbW9kdWxlIGlkID0gNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 5 */
/***/ function(module, exports) {

	eval("module.exports = require(\"body-parser\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJib2R5LXBhcnNlclwiPzQ2NTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvZHktcGFyc2VyXCIpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJib2R5LXBhcnNlclwiXG4gKiogbW9kdWxlIGlkID0gNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 6 */
/***/ function(module, exports) {

	eval("module.exports = require(\"express-session\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzLXNlc3Npb25cIj82M2JkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJleHByZXNzLXNlc3Npb25cIik7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcImV4cHJlc3Mtc2Vzc2lvblwiXG4gKiogbW9kdWxlIGlkID0gNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 7 */
/***/ function(module, exports) {

	eval("'use strict';\n\nmodule.exports = {\n  'connectionData': {\n    'host': 'localhost',\n    'user': 'tSADBAdmin',\n    'password': 'Elevation2016?',\n    'database': 'timeSheetApplication',\n    'connectionLimit': '100'\n  },\n  'database': 'timeSheetApplication'\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL3NlcnZlckNvbmZpZy9kYXRhYmFzZS5qcz9mOWY3Il0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE9BQU9DLE9BQVAsR0FBaUI7QUFDZixvQkFBbUI7QUFDakIsWUFBUyxXQURRO0FBRWpCLFlBQVMsWUFGUTtBQUdqQixnQkFBYSxnQkFISTtBQUlqQixnQkFBYSxzQkFKSTtBQUtqQix1QkFBbUI7QUFMRixHQURKO0FBUWYsY0FBYTtBQVJFLENBQWpCIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgJ2Nvbm5lY3Rpb25EYXRhJyA6IHtcbiAgICAnaG9zdCcgOiAnbG9jYWxob3N0JyxcbiAgICAndXNlcicgOiAndFNBREJBZG1pbicsXG4gICAgJ3Bhc3N3b3JkJyA6ICdFbGV2YXRpb24yMDE2PycsXG4gICAgJ2RhdGFiYXNlJyA6ICd0aW1lU2hlZXRBcHBsaWNhdGlvbicsXG4gICAgJ2Nvbm5lY3Rpb25MaW1pdCc6ICcxMDAnXG4gIH0sXG4gICdkYXRhYmFzZScgOiAndGltZVNoZWV0QXBwbGljYXRpb24nXG59O1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwaS9zZXJ2ZXJDb25maWcvZGF0YWJhc2UuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 8 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar LocalStrategy = __webpack_require__(9).Strategy;\nvar Promise = __webpack_require__(10);\n\nvar Person = __webpack_require__(11);\nvar getSqlConnection = __webpack_require__(13);\n\nmodule.exports = function (passport) {\n  passport.serializeUser(function (user, done) {\n    done(null, user.auth_id);\n  });\n\n  passport.deserializeUser(function (id, done) {\n    Promise.using(getSqlConnection(), function (connection) {\n      return connection.query(\"SELECT HEX(ID), LastName, FirstName, Email, Role FROM Persons WHERE hex(ID) = ?\", id).then(function (results) {\n        done(null, results[0]);\n      }).catch(function (error) {\n        done(err, null);\n      });\n    });\n  });\n\n  passport.use('local-signup', new LocalStrategy({\n    usernameField: 'Email',\n    passwordField: 'Password',\n    passReqToCallback: true\n  }, function (req, email, password, done) {\n    process.nextTick(function () {\n      Promise.using(getSqlConnection(), function (connection) {\n        //checking if the authenticationToken exists\n        connection.query(\"SELECT 1 FROM Persons WHERE hex(ID) = ?\", [req.body.AuthToken]).then(function (rows) {\n          if (rows.length === 0) {\n            return done(null, false, { statusCode: 404, message: 'That token does not seem to exist.' });\n          } else {\n            //checking if the token has already been used.\n            return connection.query(\"SELECT 1 FROM Persons WHERE hex(ID) = ? AND Password is NOT NULL\", [req.body.AuthToken]).then(function (rows) {\n              if (rows.length) {\n                return done(null, false, { statusCode: 409, message: 'That token has already been used.' });\n              } else {\n                //checking if the email is already being used\n                return connection.query(\"SELECT 1 FROM Persons WHERE Email = ? AND hex(ID) <> ?\", [email, req.body.AuthToken]).then(function (rows) {\n                  if (rows.length) {\n                    return done(null, false, { statusCode: 409, message: 'That email has already been used.' });\n                  } else {\n                    //Passed all checks. Create user.\n                    var newPerson = new Person();\n                    newPerson.FirstName = req.body.FirstName;\n                    newPerson.LastName = req.body.LastName;\n                    newPerson.Email = email;\n                    newPerson.Role = 'USER';\n                    newPerson.Password = newPerson.generateHash(password);\n                    return connection.query(\"UPDATE Persons SET ? WHERE hex(ID) = ?\", [newPerson, req.body.AuthToken]).then(function (rows) {\n                      newPerson.auth_id = req.body.AuthToken;\n                      return done(null, newPerson);\n                    });\n                  }\n                });\n              }\n            });\n          }\n        }).catch(function (error) {\n          return done(error);\n        });\n      });\n    });\n  }));\n\n  passport.use('local-login', new LocalStrategy({\n    usernameField: 'Email',\n    passwordField: 'Password',\n    passReqToCallback: true\n  }, function (req, email, password, done) {\n    Promise.using(getSqlConnection(), function (connection) {\n      return connection.query(\"SELECT HEX(ID), LastName, FirstName, Email, Role, Password FROM Persons WHERE email = ?\", [email]).then(function (rows) {\n        if (!rows.length) {\n          return done(null, false, { statusCode: 404, message: 'Invalid Credentials' });\n        }\n        var loginPerson = new Person();\n        loginPerson.Email = rows[0].Email;\n        loginPerson.Password = rows[0].Password;\n        if (!loginPerson.validPassword(password)) {\n          return done(null, false, { statusCode: 404, message: 'Invalid Credentials' });\n        }\n        loginPerson.auth_id = rows[0]['HEX(ID)'];\n        return done(null, loginPerson);\n      }).catch(function (error) {\n        return done(error);\n      });\n    });\n  }));\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL3NlcnZlckNvbmZpZy9wYXNzcG9ydC5qcz83MmUzIl0sIm5hbWVzIjpbIkxvY2FsU3RyYXRlZ3kiLCJyZXF1aXJlIiwiU3RyYXRlZ3kiLCJQcm9taXNlIiwiUGVyc29uIiwiZ2V0U3FsQ29ubmVjdGlvbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJwYXNzcG9ydCIsInNlcmlhbGl6ZVVzZXIiLCJ1c2VyIiwiZG9uZSIsImF1dGhfaWQiLCJkZXNlcmlhbGl6ZVVzZXIiLCJpZCIsInVzaW5nIiwiY29ubmVjdGlvbiIsInF1ZXJ5IiwidGhlbiIsInJlc3VsdHMiLCJjYXRjaCIsImVycm9yIiwiZXJyIiwidXNlIiwidXNlcm5hbWVGaWVsZCIsInBhc3N3b3JkRmllbGQiLCJwYXNzUmVxVG9DYWxsYmFjayIsInJlcSIsImVtYWlsIiwicGFzc3dvcmQiLCJwcm9jZXNzIiwibmV4dFRpY2siLCJib2R5IiwiQXV0aFRva2VuIiwicm93cyIsImxlbmd0aCIsInN0YXR1c0NvZGUiLCJtZXNzYWdlIiwibmV3UGVyc29uIiwiRmlyc3ROYW1lIiwiTGFzdE5hbWUiLCJFbWFpbCIsIlJvbGUiLCJQYXNzd29yZCIsImdlbmVyYXRlSGFzaCIsImxvZ2luUGVyc29uIiwidmFsaWRQYXNzd29yZCJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsSUFBSUEsZ0JBQWdCLG1CQUFBQyxDQUFRLENBQVIsRUFBMEJDLFFBQTlDO0FBQ0EsSUFBSUMsVUFBVSxtQkFBQUYsQ0FBUSxFQUFSLENBQWQ7O0FBRUEsSUFBSUcsU0FBUyxtQkFBQUgsQ0FBUSxFQUFSLENBQWI7QUFDQSxJQUFJSSxtQkFBbUIsbUJBQUFKLENBQVEsRUFBUixDQUF2Qjs7QUFFQUssT0FBT0MsT0FBUCxHQUFpQixVQUFTQyxRQUFULEVBQW1CO0FBQ2xDQSxXQUFTQyxhQUFULENBQXVCLFVBQVNDLElBQVQsRUFBZUMsSUFBZixFQUFxQjtBQUMxQ0EsU0FBSyxJQUFMLEVBQVdELEtBQUtFLE9B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RUFBVyxLQUFYLEVBQWtCLEVBQUN5QixZQUFZLEdBQWIsRUFBa0JDLFNBQVMscUJBQTNCLEVBQWxCLENBQVA7QUFDRDtBQUNEUSxvQkFBWWpDLE9BQVosR0FBc0JzQixLQUFLLENBQUwsRUFBUSxTQUFSLENBQXRCO0FBQ0EsZUFBT3ZCLEtBQUssSUFBTCxFQUFXa0MsV0FBWCxDQUFQO0FBQ0QsT0FiTSxFQWFKekIsS0FiSSxDQWFFLFVBQVNDLEtBQVQsRUFBZ0I7QUFDdkIsZUFBT1YsS0FBS1UsS0FBTCxDQUFQO0FBQ0QsT0FmTSxDQUFQO0FBZ0JELEtBakJEO0FBa0JELEdBeEIyQixDQUE1QjtBQXlCRCxDQXRGRCIsImZpbGUiOiI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyIExvY2FsU3RyYXRlZ3kgPSByZXF1aXJlKCdwYXNzcG9ydC1sb2NhbCcpLlN0cmF0ZWd5O1xudmFyIFByb21pc2UgPSByZXF1aXJlKFwiYmx1ZWJpcmRcIik7XG5cbnZhciBQZXJzb24gPSByZXF1aXJlKCcuLi9zZXJ2ZXJPYmplY3RzL3BlcnNvbicpO1xudmFyIGdldFNxbENvbm5lY3Rpb24gPSByZXF1aXJlKCcuL2RhdGFiYXNlQ29ubmVjdGlvbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHBhc3Nwb3J0KSB7XG4gIHBhc3Nwb3J0LnNlcmlhbGl6ZVVzZXIoZnVuY3Rpb24odXNlciwgZG9uZSkge1xuICAgIGRvbmUobnVsbCwgdXNlci5hdXRoX2lkKTtcbiAgfSk7XG5cbiAgcGFzc3BvcnQuZGVzZXJpYWxpemVVc2VyKGZ1bmN0aW9uKGlkLCBkb25lKSB7XG4gICAgUHJvbWlzZS51c2luZyhnZXRTcWxDb25uZWN0aW9uKCksIGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgICAgIHJldHVybiBjb25uZWN0aW9uLnF1ZXJ5KFwiU0VMRUNUIEhFWChJRCksIExhc3ROYW1lLCBGaXJzdE5hbWUsIEVtYWlsLCBSb2xlIEZST00gUGVyc29ucyBXSEVSRSBoZXgoSUQpID0gP1wiLCBpZCkudGhlbihmdW5jdGlvbihyZXN1bHRzKSB7XG4gICAgICAgIGRvbmUobnVsbCwgcmVzdWx0c1swXSk7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICBkb25lKGVyciwgbnVsbCk7XG4gICAgICB9KTtcbiAgICB9KVxuICB9KTtcblxuICBwYXNzcG9ydC51c2UoJ2xvY2FsLXNpZ251cCcsIG5ldyBMb2NhbFN0cmF0ZWd5KHtcbiAgICB1c2VybmFtZUZpZWxkIDogJ0VtYWlsJyxcbiAgICBwYXNzd29yZEZpZWxkOiAnUGFzc3dvcmQnLFxuICAgIHBhc3NSZXFUb0NhbGxiYWNrOiB0cnVlXG4gIH0sXG4gIGZ1bmN0aW9uKHJlcSwgZW1haWwsIHBhc3N3b3JkLCBkb25lKSB7XG4gICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbigpIHtcbiAgICAgIFByb21pc2UudXNpbmcoZ2V0U3FsQ29ubmVjdGlvbigpLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gICAgICAgIC8vY2hlY2tpbmcgaWYgdGhlIGF1dGhlbnRpY2F0aW9uVG9rZW4gZXhpc3RzXG4gICAgICAgIGNvbm5lY3Rpb24ucXVlcnkoXCJTRUxFQ1QgMSBGUk9NIFBlcnNvbnMgV0hFUkUgaGV4KElEKSA9ID9cIiwgW3JlcS5ib2R5LkF1dGhUb2tlbl0pLnRoZW4oZnVuY3Rpb24ocm93cykge1xuICAgICAgICAgIGlmIChyb3dzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGRvbmUobnVsbCwgZmFsc2UsIHtzdGF0dXNDb2RlOiA0MDQsIG1lc3NhZ2U6ICdUaGF0IHRva2VuIGRvZXMgbm90IHNlZW0gdG8gZXhpc3QuJ30pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL2NoZWNraW5nIGlmIHRoZSB0b2tlbiBoYXMgYWxyZWFkeSBiZWVuIHVzZWQuXG4gICAgICAgICAgICByZXR1cm4gY29ubmVjdGlvbi5xdWVyeShcIlNFTEVDVCAxIEZST00gUGVyc29ucyBXSEVSRSBoZXgoSUQpID0gPyBBTkQgUGFzc3dvcmQgaXMgTk9UIE5VTExcIiwgW3JlcS5ib2R5LkF1dGhUb2tlbl0pLnRoZW4oZnVuY3Rpb24ocm93cykge1xuICAgICAgICAgICAgICBpZiAocm93cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9uZShudWxsLCBmYWxzZSwge3N0YXR1c0NvZGU6IDQwOSwgbWVzc2FnZTogJ1RoYXQgdG9rZW4gaGFzIGFscmVhZHkgYmVlbiB1c2VkLid9KVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vY2hlY2tpbmcgaWYgdGhlIGVtYWlsIGlzIGFscmVhZHkgYmVpbmcgdXNlZFxuICAgICAgICAgICAgICAgIHJldHVybiBjb25uZWN0aW9uLnF1ZXJ5KFwiU0VMRUNUIDEgRlJPTSBQZXJzb25zIFdIRVJFIEVtYWlsID0gPyBBTkQgaGV4KElEKSA8PiA/XCIsIFtlbWFpbCwgcmVxLmJvZHkuQXV0aFRva2VuXSkudGhlbihmdW5jdGlvbihyb3dzKSB7XG4gICAgICAgICAgICAgICAgICBpZiAocm93cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvbmUobnVsbCwgZmFsc2UsIHtzdGF0dXNDb2RlOiA0MDksIG1lc3NhZ2U6ICdUaGF0IGVtYWlsIGhhcyBhbHJlYWR5IGJlZW4gdXNlZC4nfSlcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vUGFzc2VkIGFsbCBjaGVja3MuIENyZWF0ZSB1c2VyLlxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3UGVyc29uID0gbmV3IFBlcnNvbigpO1xuICAgICAgICAgICAgICAgICAgICBuZXdQZXJzb24uRmlyc3ROYW1lID0gcmVxLmJvZHkuRmlyc3ROYW1lO1xuICAgICAgICAgICAgICAgICAgICBuZXdQZXJzb24uTGFzdE5hbWUgPSByZXEuYm9keS5MYXN0TmFtZTtcbiAgICAgICAgICAgICAgICAgICAgbmV3UGVyc29uLkVtYWlsID0gZW1haWw7XG4gICAgICAgICAgICAgICAgICAgIG5ld1BlcnNvbi5Sb2xlID0gJ1VTRVInO1xuICAgICAgICAgICAgICAgICAgICBuZXdQZXJzb24uUGFzc3dvcmQgPSBuZXdQZXJzb24uZ2VuZXJhdGVIYXNoKHBhc3N3b3JkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb24ucXVlcnkoXCJVUERBVEUgUGVyc29ucyBTRVQgPyBXSEVSRSBoZXgoSUQpID0gP1wiLCBbbmV3UGVyc29uLCByZXEuYm9keS5BdXRoVG9rZW5dKS50aGVuKGZ1bmN0aW9uKHJvd3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICBuZXdQZXJzb24uYXV0aF9pZCA9IHJlcS5ib2R5LkF1dGhUb2tlbjtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9uZShudWxsLCBuZXdQZXJzb24pO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIHJldHVybiBkb25lKGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSkpO1xuXG4gIHBhc3Nwb3J0LnVzZSgnbG9jYWwtbG9naW4nLCBuZXcgTG9jYWxTdHJhdGVneSh7XG4gICAgdXNlcm5hbWVGaWVsZCA6ICdFbWFpbCcsXG4gICAgcGFzc3dvcmRGaWVsZDogJ1Bhc3N3b3JkJyxcbiAgICBwYXNzUmVxVG9DYWxsYmFjazogdHJ1ZVxuICB9LFxuICBmdW5jdGlvbihyZXEsIGVtYWlsLCBwYXNzd29yZCwgZG9uZSkge1xuICAgIFByb21pc2UudXNpbmcoZ2V0U3FsQ29ubmVjdGlvbigpLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gICAgICByZXR1cm4gY29ubmVjdGlvbi5xdWVyeShcIlNFTEVDVCBIRVgoSUQpLCBMYXN0TmFtZSwgRmlyc3ROYW1lLCBFbWFpbCwgUm9sZSwgUGFzc3dvcmQgRlJPTSBQZXJzb25zIFdIRVJFIGVtYWlsID0gP1wiLCBbZW1haWxdKS50aGVuKGZ1bmN0aW9uKHJvd3MpIHtcbiAgICAgICAgaWYgKCFyb3dzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBkb25lKG51bGwsIGZhbHNlLCB7c3RhdHVzQ29kZTogNDA0LCBtZXNzYWdlOiAnSW52YWxpZCBDcmVkZW50aWFscyd9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbG9naW5QZXJzb24gPSBuZXcgUGVyc29uKCk7XG4gICAgICAgIGxvZ2luUGVyc29uLkVtYWlsID0gcm93c1swXS5FbWFpbDtcbiAgICAgICAgbG9naW5QZXJzb24uUGFzc3dvcmQgPSByb3dzWzBdLlBhc3N3b3JkO1xuICAgICAgICBpZiAoIWxvZ2luUGVyc29uLnZhbGlkUGFzc3dvcmQocGFzc3dvcmQpKVxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIGRvbmUobnVsbCwgZmFsc2UsIHtzdGF0dXNDb2RlOiA0MDQsIG1lc3NhZ2U6ICdJbnZhbGlkIENyZWRlbnRpYWxzJ30pO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2luUGVyc29uLmF1dGhfaWQgPSByb3dzWzBdWydIRVgoSUQpJ107XG4gICAgICAgIHJldHVybiBkb25lKG51bGwsIGxvZ2luUGVyc29uKTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBkb25lKGVycm9yKTtcbiAgICAgIH0pXG4gICAgfSk7XG4gIH0pKTtcbn07XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBpL3NlcnZlckNvbmZpZy9wYXNzcG9ydC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 9 */
/***/ function(module, exports) {

	eval("module.exports = require(\"passport-local\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXNzcG9ydC1sb2NhbFwiP2YzZWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhc3Nwb3J0LWxvY2FsXCIpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJwYXNzcG9ydC1sb2NhbFwiXG4gKiogbW9kdWxlIGlkID0gOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 10 */
/***/ function(module, exports) {

	eval("module.exports = require(\"bluebird\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJibHVlYmlyZFwiP2ZiM2UiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJibHVlYmlyZFwiKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIGV4dGVybmFsIFwiYmx1ZWJpcmRcIlxuICoqIG1vZHVsZSBpZCA9IDEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 11 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar bcrypt = __webpack_require__(12);\n\nvar Person = function Person() {};\n\nPerson.prototype.validPassword = function (password) {\n  return bcrypt.compareSync(password, this.Password);\n};\n\nPerson.prototype.generateHash = function (pass) {\n  return bcrypt.hashSync(pass, bcrypt.genSaltSync(8), null);\n};\n\nmodule.exports = Person;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL3NlcnZlck9iamVjdHMvcGVyc29uLmpzPzkyZmEiXSwibmFtZXMiOlsiYmNyeXB0IiwicmVxdWlyZSIsIlBlcnNvbiIsInByb3RvdHlwZSIsInZhbGlkUGFzc3dvcmQiLCJwYXNzd29yZCIsImNvbXBhcmVTeW5jIiwiUGFzc3dvcmQiLCJnZW5lcmF0ZUhhc2giLCJwYXNzIiwiaGFzaFN5bmMiLCJnZW5TYWx0U3luYyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLFNBQVMsbUJBQUFDLENBQVEsRUFBUixDQUFiOztBQUVBLElBQUlDLFNBQVMsU0FBVEEsTUFBUyxHQUFXLENBQ3ZCLENBREQ7O0FBR0FBLE9BQU9DLFNBQVAsQ0FBaUJDLGFBQWpCLEdBQWlDLFVBQVNDLFFBQVQsRUFBbUI7QUFDbEQsU0FBT0wsT0FBT00sV0FBUCxDQUFtQkQsUUFBbkIsRUFBNkIsS0FBS0UsUUFBbEMsQ0FBUDtBQUNELENBRkQ7O0FBSUFMLE9BQU9DLFNBQVAsQ0FBaUJLLFlBQWpCLEdBQWdDLFVBQVNDLElBQVQsRUFBZTtBQUM3QyxTQUFPVCxPQUFPVSxRQUFQLENBQWdCRCxJQUFoQixFQUFzQlQsT0FBT1csV0FBUCxDQUFtQixDQUFuQixDQUF0QixFQUE2QyxJQUE3QyxDQUFQO0FBQ0QsQ0FGRDs7QUFJQUMsT0FBT0MsT0FBUCxHQUFpQlgsTUFBakIiLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHQnKTtcblxudmFyIFBlcnNvbiA9IGZ1bmN0aW9uKCkge1xufTtcblxuUGVyc29uLnByb3RvdHlwZS52YWxpZFBhc3N3b3JkID0gZnVuY3Rpb24ocGFzc3dvcmQpIHtcbiAgcmV0dXJuIGJjcnlwdC5jb21wYXJlU3luYyhwYXNzd29yZCwgdGhpcy5QYXNzd29yZCk7XG59O1xuXG5QZXJzb24ucHJvdG90eXBlLmdlbmVyYXRlSGFzaCA9IGZ1bmN0aW9uKHBhc3MpIHtcbiAgcmV0dXJuIGJjcnlwdC5oYXNoU3luYyhwYXNzLCBiY3J5cHQuZ2VuU2FsdFN5bmMoOCksIG51bGwpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBQZXJzb247XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBpL3NlcnZlck9iamVjdHMvcGVyc29uLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 12 */
/***/ function(module, exports) {

	eval("module.exports = require(\"bcrypt\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiY3J5cHRcIj8wMzllIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjEyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYmNyeXB0XCIpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJiY3J5cHRcIlxuICoqIG1vZHVsZSBpZCA9IDEyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 13 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar configDB = __webpack_require__(7);\nvar mysql = __webpack_require__(14);\n\nvar pool = mysql.createPool(configDB.connectionData);\n\nfunction getSqlConnection() {\n\treturn pool.getConnection().disposer(function (connection) {\n\t\tpool.releaseConnection(connection);\n\t});\n}\n\nmodule.exports = getSqlConnection;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL3NlcnZlckNvbmZpZy9kYXRhYmFzZUNvbm5lY3Rpb24uanM/NWE4MyJdLCJuYW1lcyI6WyJjb25maWdEQiIsInJlcXVpcmUiLCJteXNxbCIsInBvb2wiLCJjcmVhdGVQb29sIiwiY29ubmVjdGlvbkRhdGEiLCJnZXRTcWxDb25uZWN0aW9uIiwiZ2V0Q29ubmVjdGlvbiIsImRpc3Bvc2VyIiwiY29ubmVjdGlvbiIsInJlbGVhc2VDb25uZWN0aW9uIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxXQUFXLG1CQUFBQyxDQUFRLENBQVIsQ0FBZjtBQUNBLElBQUlDLFFBQVEsbUJBQUFELENBQVEsRUFBUixDQUFaOztBQUVBLElBQUlFLE9BQU9ELE1BQU1FLFVBQU4sQ0FBaUJKLFNBQVNLLGNBQTFCLENBQVg7O0FBRUEsU0FBU0MsZ0JBQVQsR0FBNEI7QUFDM0IsUUFBT0gsS0FBS0ksYUFBTCxHQUFxQkMsUUFBckIsQ0FBOEIsVUFBU0MsVUFBVCxFQUFxQjtBQUN6RE4sT0FBS08saUJBQUwsQ0FBdUJELFVBQXZCO0FBQ0EsRUFGTSxDQUFQO0FBR0E7O0FBRURFLE9BQU9DLE9BQVAsR0FBaUJOLGdCQUFqQiIsImZpbGUiOiIxMy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBjb25maWdEQiA9IHJlcXVpcmUoJy4vZGF0YWJhc2UuanMnKTtcbnZhciBteXNxbCA9IHJlcXVpcmUoJ3Byb21pc2UtbXlzcWwnKTtcblxudmFyIHBvb2wgPSBteXNxbC5jcmVhdGVQb29sKGNvbmZpZ0RCLmNvbm5lY3Rpb25EYXRhKTtcblxuZnVuY3Rpb24gZ2V0U3FsQ29ubmVjdGlvbigpIHtcblx0cmV0dXJuIHBvb2wuZ2V0Q29ubmVjdGlvbigpLmRpc3Bvc2VyKGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcblx0XHRwb29sLnJlbGVhc2VDb25uZWN0aW9uKGNvbm5lY3Rpb24pO1xuXHR9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRTcWxDb25uZWN0aW9uO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwaS9zZXJ2ZXJDb25maWcvZGF0YWJhc2VDb25uZWN0aW9uLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 14 */
/***/ function(module, exports) {

	eval("module.exports = require(\"promise-mysql\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwcm9taXNlLW15c3FsXCI/NzE4NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIxNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInByb21pc2UtbXlzcWxcIik7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcInByb21pc2UtbXlzcWxcIlxuICoqIG1vZHVsZSBpZCA9IDE0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 15 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar Persons = __webpack_require__(16);\nvar TimeSheets = __webpack_require__(17);\nvar signupEmail = __webpack_require__(19);\nvar deletePerson = __webpack_require__(23);\nvar transporter = __webpack_require__(20);\nvar signupEmailMessage = __webpack_require__(22);\n\nmodule.exports = function (app, passport) {\n  app.get('/', function (req, res) {\n    res.sendFile('index.html', { root: process.env.PWD });\n  });\n\n  app.get('/timesheets', checkUserAuth, function (req, res, next) {\n    var timeSheets = new TimeSheets();\n    timeSheets.fetch(req, function (err, results) {\n      if (err) {\n        return res.sendStatus(500);\n      }\n      return res.status(200).send({ results: results.resultsArray, next: results.next, prev: results.prev });\n    });\n  });\n\n  app.post('/resendSignupEmail', checkAdminAuth, function (req, res, next) {\n    var message = signupEmailMessage(req.body.Email, req.body.Token);\n\n    transporter.sendMail(message, function (error, info) {\n      if (error) {\n        console.log(error);\n        return res.status(500).send({ message: 'Internal server error. Please try again.' });\n      } else {\n        return res.status(200).send({ message: 'Successful token creation' });\n      }\n    });\n  });\n\n  app.post('/tokenCreation', checkAdminAuth, function (req, res, next) {\n    signupEmail(req.body.Email, function (err, success, info) {\n      if (err) {\n        return res.status(500).send({ message: 'Internal server error. Please try again.' });\n      } else if (!success) {\n        return res.status(info.statusCode).send({ message: info.message });\n      } else {\n        return res.status(200).send({ message: 'Successful token creation' });\n      }\n    });\n  });\n\n  app.delete('/persons/:id', checkAdminAuth, function (req, res, next) {\n    deletePerson(req, function (err) {\n      if (err) {\n        return res.sendStatus(500);\n      }\n      return res.sendStatus(200);\n    });\n  });\n\n  app.get('/persons', checkAdminAuth, function (req, res) {\n    var persons = new Persons();\n    persons.fetch(req, function (err, results) {\n      if (err) {\n        return res.sendStatus(500);\n      }\n      return res.status(200).send(results);\n    });\n  });\n\n  app.get('/session', function (req, res) {\n    if (req.isAuthenticated()) {\n      res.status(200).send({ isAuthenticated: true, FirstName: req.user.FirstName, LastName: req.user.LastName, Role: req.user.Role });\n    } else {\n      res.status(200).send({ isAuthenticated: false });\n    }\n  });\n\n  //Wasn't orginally sending a message back with this but I think it attempts to parse the\n  //empty response and gets an error. Tried setting 'parse: false' on the client to no avail.\n  app.get('/logout', function (req, res) {\n    req.logout();\n    res.status(200).send({ message: 'You have successfully logged out.' });\n  });\n\n  app.post('/loginCreation', function (req, res, next) {\n    passport.authenticate('local-signup', function (err, person, info) {\n      if (err) {\n        return next(err);\n      }\n      if (!person) {\n        return res.status(info.statusCode).send({ message: info.message });\n      }\n      req.login(person, function (err) {\n        if (err) {\n          res.send(res, 500, 'Ups.');\n        } else {\n          return res.status(200).send({ FirstName: person.FirstName });\n        }\n      });\n    })(req, res, next);\n  });\n\n  app.post('/login', function (req, res, next) {\n    passport.authenticate('local-login', function (err, person, info) {\n      if (err) {\n        return next(err);\n      }\n      if (!person) {\n        return res.status(info.statusCode).send({ message: info.message });\n      }\n      req.login(person, function (err) {\n        if (err) {\n          res.send(res, 500, 'Ups.');\n        } else {\n          return res.status(200).send({ message: 'SUCCESS' });\n        }\n      });\n    })(req, res, next);\n  });\n\n  function checkAdminAuth(req, res, next) {\n    if (req.isAuthenticated()) {\n      if (req.user.Role === 'ADMIN') {\n        next();\n      } else {\n        res.sendStatus(403);\n      }\n    } else {\n      res.sendStatus(403);\n    }\n  }\n\n  function checkUserAuth(req, res, next) {\n    if (req.isAuthenticated()) {\n      if (req.user.Role === 'USER') {\n        next();\n      } else {\n        res.sendStatus(403);\n      }\n    } else {\n      res.sendStatus(403);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL3NlcnZlck9iamVjdHMvcm91dGVzLmpzPzAwNGEiXSwibmFtZXMiOlsiUGVyc29ucyIsInJlcXVpcmUiLCJUaW1lU2hlZXRzIiwic2lnbnVwRW1haWwiLCJkZWxldGVQZXJzb24iLCJ0cmFuc3BvcnRlciIsInNpZ251cEVtYWlsTWVzc2FnZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJhcHAiLCJwYXNzcG9ydCIsImdldCIsInJlcSIsInJlcyIsInNlbmRGaWxlIiwicm9vdCIsInByb2Nlc3MiLCJlbnYiLCJQV0QiLCJjaGVja1VzZXJBdXRoIiwibmV4dCIsInRpbWVTaGVldHMiLCJmZXRjaCIsImVyciIsInJlc3VsdHMiLCJzZW5kU3RhdHVzIiwic3RhdHVzIiwic2VuZCIsInJlc3VsdHNBcnJheSIsInByZXYiLCJwb3N0IiwiY2hlY2tBZG1pbkF1dGgiLCJtZXNzYWdlIiwiYm9keSIsIkVtYWlsIiwiVG9rZW4iLCJzZW5kTWFpbCIsImVycm9yIiwiaW5mbyIsImNvbnNvbGUiLCJsb2ciLCJzdWNjZXNzIiwic3RhdHVzQ29kZSIsImRlbGV0ZSIsInBlcnNvbnMiLCJpc0F1dGhlbnRpY2F0ZWQiLCJGaXJzdE5hbWUiLCJ1c2VyIiwiTGFzdE5hbWUiLCJSb2xlIiwibG9nb3V0IiwiYXV0aGVudGljYXRlIiwicGVyc29uIiwibG9naW4iXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLFVBQVUsbUJBQUFDLENBQVEsRUFBUixDQUFkO0FBQ0EsSUFBSUMsYUFBYSxtQkFBQUQsQ0FBUSxFQUFSLENBQWpCO0FBQ0EsSUFBSUUsY0FBYyxtQkFBQUYsQ0FBUSxFQUFSLENBQWxCO0FBQ0EsSUFBSUcsZUFBZSxtQkFBQUgsQ0FBUSxFQUFSLENBQW5CO0FBQ0EsSUFBSUksY0FBYyxtQkFBQUosQ0FBUSxFQUFSLENBQWxCO0FBQ0EsSUFBSUsscUJBQXFCLG1CQUFBTCxDQUFRLEVBQVIsQ0FBekI7O0FBRUFNLE9BQU9DLE9BQVAsR0FBaUIsVUFBU0MsR0FBVCxFQUFjQyxRQUFkLEVBQXdCO0FBQ3ZDRCxNQUFJRSxHQUFKLENBQVEsR0FBUixFQUFhLFVBQVVDLEdBQVYsRUFBZUMsR0FBZixFQUFvQjtBQUMvQkEsUUFBSUMsUUFBSixDQUFjLFlBQWQsRUFBNEIsRUFBRUMsTUFBTUMsUUFBUUMsR0FBUixDQUFZQyxHQUFwQixFQUE1QjtBQUNELEdBRkQ7O0FBSUFULE1BQUlFLEdBQUosQ0FBUSxhQUFSLEVBQXVCUSxhQUF2QixFQUFzQyxVQUFTUCxHQUFULEVBQWNDLEdBQWQsRUFBbUJPLElBQW5CLEVBQXlCO0FBQzdELFFBQUlDLGFBQWEsSUFBSW5CLFVBQUosRUFBakI7QUFDQW1CLGVBQVdDLEtBQVgsQ0FBaUJWLEdBQWpCLEVBQXNCLFVBQVNXLEdBQVQsRUFBY0MsT0FBZCxFQUF1QjtBQUMzQyxVQUFJRCxHQUFKLEVBQVM7QUFDUCxlQUFPVixJQUFJWSxVQUFKLENBQWUsR0FBZixDQUFQO0FBQ0Q7QUFDRCxhQUFPWixJQUFJYSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsRUFBRUgsU0FBU0EsUUFBUUksWUFBbkIsRUFBaUNSLE1BQU1JLFFBQVFKLElBQS9DLEVBQXFEUyxNQUFNTCxRQUFRSyxJQUFuRSxFQUFyQixDQUFQO0FBQ0QsS0FMRDtBQU1ELEdBUkQ7O0FBVUFwQixNQUFJcUIsSUFBSixDQUFTLG9CQUFULEVBQStCQyxjQUEvQixFQUErQyxVQUFTbkIsR0FBVCxFQUFjQyxHQUFkLEVBQW1CTyxJQUFuQixFQUF5QjtBQUN0RSxRQUFJWSxVQUFVMUIsbUJBQW1CTSxJQUFJcUIsSUFBSixDQUFTQyxLQUE1QixFQUFtQ3RCLElBQUlxQixJQUFKLENBQVNFLEtBQTVDLENBQWQ7O0FBRUE5QixnQkFBWStCLFFBQVosQ0FBcUJKLE9BQXJCLEVBQThCLFVBQVNLLEtBQVQsRUFBZ0JDLElBQWhCLEVBQXNCO0FBQ2xELFVBQUlELEtBQUosRUFBVztBQUNURSxnQkFBUUMsR0FBUixDQUFZSCxLQUFaO0FBQ0EsZUFBT3hCLElBQUlhLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixFQUFFSyxTQUFTLDBDQUFYLEVBQXJCLENBQVA7QUFDRCxPQUhELE1BR087QUFDTCxlQUFPbkIsSUFBSWEsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLEVBQUNLLFNBQVMsMkJBQVYsRUFBckIsQ0FBUDtBQUNEO0FBQ0YsS0FQRDtBQVFELEdBWEQ7O0FBYUF2QixNQUFJcUIsSUFBSixDQUFTLGdCQUFULEVBQTJCQyxjQUEzQixFQUEyQyxVQUFTbkIsR0FBVCxFQUFjQyxHQUFkLEVBQW1CTyxJQUFuQixFQUF5QjtBQUNsRWpCLGdCQUFZUyxJQUFJcUIsSUFBSixDQUFTQyxLQUFyQixFQUE0QixVQUFTWCxHQUFULEVBQWNrQixPQUFkLEVBQXVCSCxJQUF2QixFQUE2QjtBQUN2RCxVQUFJZixHQUFKLEVBQVM7QUFDUCxlQUFPVixJQUFJYSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsRUFBRUssU0FBUywwQ0FBWCxFQUFyQixDQUFQO0FBQ0QsT0FGRCxNQUVPLElBQUksQ0FBQ1MsT0FBTCxFQUFjO0FBQ25CLGVBQU81QixJQUFJYSxNQUFKLENBQVdZLEtBQUtJLFVBQWhCLEVBQTRCZixJQUE1QixDQUFpQyxFQUFFSyxTQUFTTSxLQUFLTixPQUFoQixFQUFqQyxDQUFQO0FBQ0QsT0FGTSxNQUVBO0FBQ0wsZUFBT25CLElBQUlhLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixFQUFDSyxTQUFTLDJCQUFWLEVBQXJCLENBQVA7QUFDRDtBQUNGLEtBUkQ7QUFTRCxHQVZEOztBQVlBdkIsTUFBSWtDLE1BQUosQ0FBVyxjQUFYLEVBQTJCWixjQUEzQixFQUEyQyxVQUFTbkIsR0FBVCxFQUFjQyxHQUFkLEVBQW1CTyxJQUFuQixFQUF5QjtBQUNsRWhCLGlCQUFhUSxHQUFiLEVBQWtCLFVBQVNXLEdBQVQsRUFBYztBQUM5QixVQUFJQSxHQUFKLEVBQVM7QUFDUCxlQUFPVixJQUFJWSxVQUFKLENBQWUsR0FBZixDQUFQO0FBQ0Q7QUFDRCxhQUFPWixJQUFJWSxVQUFKLENBQWUsR0FBZixDQUFQO0FBQ0QsS0FMRDtBQU1ELEdBUEQ7O0FBU0FoQixNQUFJRSxHQUFKLENBQVEsVUFBUixFQUFvQm9CLGNBQXBCLEVBQW9DLFVBQVNuQixHQUFULEVBQWFDLEdBQWIsRUFBa0I7QUFDcEQsUUFBSStCLFVBQVUsSUFBSTVDLE9BQUosRUFBZDtBQUNBNEMsWUFBUXRCLEtBQVIsQ0FBY1YsR0FBZCxFQUFtQixVQUFTVyxHQUFULEVBQWNDLE9BQWQsRUFBdUI7QUFDeEMsVUFBSUQsR0FBSixFQUFTO0FBQ1AsZUFBT1YsSUFBSVksVUFBSixDQUFlLEdBQWYsQ0FBUDtBQUNEO0FBQ0QsYUFBT1osSUFBSWEsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCSCxPQUFyQixDQUFQO0FBQ0QsS0FMRDtBQU1ELEdBUkQ7O0FBVUFmLE1BQUlFLEdBQUosQ0FBUSxVQUFSLEVBQW9CLFVBQVVDLEdBQVYsRUFBZUMsR0FBZixFQUFvQjtBQUN0QyxRQUFJRCxJQUFJaUMsZUFBSixFQUFKLEVBQTJCO0FBQ3pCaEMsVUFBSWEsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLEVBQUVrQixpQkFBaUIsSUFBbkIsRUFBeUJDLFdBQVdsQyxJQUFJbUMsSUFBSixDQUFTRCxTQUE3QyxFQUF3REUsVUFBVXBDLElBQUltQyxJQUFKLENBQVNDLFFBQTNFLEVBQXFGQyxNQUFNckMsSUFBSW1DLElBQUosQ0FBU0UsSUFBcEcsRUFBckI7QUFDRCxLQUZELE1BRU87QUFDTHBDLFVBQUlhLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixFQUFFa0IsaUJBQWlCLEtBQW5CLEVBQXJCO0FBQ0Q7QUFDRixHQU5EOztBQVFBO0FBQ0E7QUFDQXBDLE1BQUlFLEdBQUosQ0FBUSxTQUFSLEVBQW1CLFVBQVVDLEdBQVYsRUFBZUMsR0FBZixFQUFvQjtBQUNyQ0QsUUFBSXNDLE1BQUo7QUFDQXJDLFFBQUlhLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixFQUFFSyxTQUFTLG1DQUFYLEVBQXJCO0FBQ0QsR0FIRDs7QUFLQXZCLE1BQUlxQixJQUFKLENBQVMsZ0JBQVQsRUFBMkIsVUFBU2xCLEdBQVQsRUFBY0MsR0FBZCxFQUFtQk8sSUFBbkIsRUFBeUI7QUFDbERWLGFBQVN5QyxZQUFULENBQXNCLGNBQXRCLEVBQXNDLFVBQVM1QixHQUFULEVBQWM2QixNQUFkLEVBQXNCZCxJQUF0QixFQUE0QjtBQUNoRSxVQUFJZixHQUFKLEVBQVM7QUFBRSxlQUFPSCxLQUFLRyxHQUFMLENBQVA7QUFBbUI7QUFDOUIsVUFBSSxDQUFDNkIsTUFBTCxFQUFhO0FBQ1gsZUFBT3ZDLElBQUlhLE1BQUosQ0FBV1ksS0FBS0ksVUFBaEIsRUFBNEJmLElBQTVCLENBQWlDLEVBQUVLLFNBQVNNLEtBQUtOLE9BQWhCLEVBQWpDLENBQVA7QUFDRDtBQUNEcEIsVUFBSXlDLEtBQUosQ0FBVUQsTUFBVixFQUFrQixVQUFTN0IsR0FBVCxFQUFjO0FBQzlCLFlBQUlBLEdBQUosRUFBUztBQUNQVixjQUFJYyxJQUFKLENBQVNkLEdBQVQsRUFBYyxHQUFkLEVBQW1CLE1BQW5CO0FBQ0QsU0FGRCxNQUVPO0FBQ0wsaUJBQU9BLElBQUlhLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFzQixFQUFFbUIsV0FBV00sT0FBT04sU0FBcEIsRUFBdEIsQ0FBUDtBQUNEO0FBQ0YsT0FORDtBQU9ELEtBWkQsRUFZR2xDLEdBWkgsRUFZUUMsR0FaUixFQVlhTyxJQVpiO0FBYUQsR0FkRDs7QUFnQkFYLE1BQUlxQixJQUFKLENBQVMsUUFBVCxFQUFtQixVQUFTbEIsR0FBVCxFQUFjQyxHQUFkLEVBQW1CTyxJQUFuQixFQUF5QjtBQUMxQ1YsYUFBU3lDLFlBQVQsQ0FBc0IsYUFBdEIsRUFBcUMsVUFBUzVCLEdBQVQsRUFBYzZCLE1BQWQsRUFBc0JkLElBQXRCLEVBQTRCO0FBQy9ELFVBQUlmLEdBQUosRUFBUztBQUFFLGVBQU9ILEtBQUtHLEdBQUwsQ0FBUDtBQUFtQjtBQUM5QixVQUFJLENBQUM2QixNQUFMLEVBQWE7QUFDWCxlQUFPdkMsSUFBSWEsTUFBSixDQUFXWSxLQUFLSSxVQUFoQixFQUE0QmYsSUFBNUIsQ0FBaUMsRUFBRUssU0FBU00sS0FBS04sT0FBaEIsRUFBakMsQ0FBUDtBQUNEO0FBQ0RwQixVQUFJeUMsS0FBSixDQUFVRCxNQUFWLEVBQWtCLFVBQVM3QixHQUFULEVBQWM7QUFDOUIsWUFBSUEsR0FBSixFQUFTO0FBQ1BWLGNBQUljLElBQUosQ0FBU2QsR0FBVCxFQUFjLEdBQWQsRUFBbUIsTUFBbkI7QUFDRCxTQUZELE1BRU87QUFDTCxpQkFBT0EsSUFBSWEsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXNCLEVBQUVLLFNBQVMsU0FBWCxFQUF0QixDQUFQO0FBQ0Q7QUFDRixPQU5EO0FBT0QsS0FaRCxFQVlHcEIsR0FaSCxFQVlRQyxHQVpSLEVBWWFPLElBWmI7QUFhRCxHQWREOztBQWdCQSxXQUFTVyxjQUFULENBQXdCbkIsR0FBeEIsRUFBNkJDLEdBQTdCLEVBQWtDTyxJQUFsQyxFQUF3QztBQUN0QyxRQUFJUixJQUFJaUMsZUFBSixFQUFKLEVBQTJCO0FBQ3pCLFVBQUlqQyxJQUFJbUMsSUFBSixDQUFTRSxJQUFULEtBQWtCLE9BQXRCLEVBQStCO0FBQzdCN0I7QUFDRCxPQUZELE1BRU87QUFDTFAsWUFBSVksVUFBSixDQUFlLEdBQWY7QUFDRDtBQUNGLEtBTkQsTUFNTztBQUNMWixVQUFJWSxVQUFKLENBQWUsR0FBZjtBQUNEO0FBQ0Y7O0FBRUQsV0FBU04sYUFBVCxDQUF1QlAsR0FBdkIsRUFBNEJDLEdBQTVCLEVBQWlDTyxJQUFqQyxFQUF1QztBQUNyQyxRQUFJUixJQUFJaUMsZUFBSixFQUFKLEVBQTJCO0FBQ3pCLFVBQUlqQyxJQUFJbUMsSUFBSixDQUFTRSxJQUFULEtBQWtCLE1BQXRCLEVBQThCO0FBQzVCN0I7QUFDRCxPQUZELE1BRU87QUFDTFAsWUFBSVksVUFBSixDQUFlLEdBQWY7QUFDRDtBQUNGLEtBTkQsTUFNTztBQUNMWixVQUFJWSxVQUFKLENBQWUsR0FBZjtBQUNEO0FBQ0Y7QUFDRixDQWpJRCIsImZpbGUiOiIxNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIFBlcnNvbnMgPSByZXF1aXJlKCcuLi9zZXJ2ZXJPYmplY3RzL3BlcnNvbnMnKTtcbnZhciBUaW1lU2hlZXRzID0gcmVxdWlyZSgnLi4vc2VydmVyT2JqZWN0cy90aW1lc2hlZXRzJyk7XG52YXIgc2lnbnVwRW1haWwgPSByZXF1aXJlKCcuL3NpZ251cEVtYWlsJyk7XG52YXIgZGVsZXRlUGVyc29uID0gcmVxdWlyZSgnLi9kZWxldGVQZXJzb24nKTtcbnZhciB0cmFuc3BvcnRlciA9IHJlcXVpcmUoJy4uL3NlcnZlckNvbmZpZy9lbWFpbFNldHVwJyk7XG52YXIgc2lnbnVwRW1haWxNZXNzYWdlID0gcmVxdWlyZSgnLi9zaWdudXBFbWFpbE1lc3NhZ2UnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihhcHAsIHBhc3Nwb3J0KSB7XG4gIGFwcC5nZXQoJy8nLCBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgICByZXMuc2VuZEZpbGUoICdpbmRleC5odG1sJywgeyByb290OiBwcm9jZXNzLmVudi5QV0R9KTtcbiAgfSk7XG5cbiAgYXBwLmdldCgnL3RpbWVzaGVldHMnLCBjaGVja1VzZXJBdXRoLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHZhciB0aW1lU2hlZXRzID0gbmV3IFRpbWVTaGVldHMoKTtcbiAgICB0aW1lU2hlZXRzLmZldGNoKHJlcSwgZnVuY3Rpb24oZXJyLCByZXN1bHRzKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuc2VuZFN0YXR1cyg1MDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0czogcmVzdWx0cy5yZXN1bHRzQXJyYXksIG5leHQ6IHJlc3VsdHMubmV4dCwgcHJldjogcmVzdWx0cy5wcmV2IH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBhcHAucG9zdCgnL3Jlc2VuZFNpZ251cEVtYWlsJywgY2hlY2tBZG1pbkF1dGgsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdmFyIG1lc3NhZ2UgPSBzaWdudXBFbWFpbE1lc3NhZ2UocmVxLmJvZHkuRW1haWwsIHJlcS5ib2R5LlRva2VuKTtcblxuICAgIHRyYW5zcG9ydGVyLnNlbmRNYWlsKG1lc3NhZ2UsIGZ1bmN0aW9uKGVycm9yLCBpbmZvKSB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluLid9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7bWVzc2FnZTogJ1N1Y2Nlc3NmdWwgdG9rZW4gY3JlYXRpb24nfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGFwcC5wb3N0KCcvdG9rZW5DcmVhdGlvbicsIGNoZWNrQWRtaW5BdXRoLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHNpZ251cEVtYWlsKHJlcS5ib2R5LkVtYWlsLCBmdW5jdGlvbihlcnIsIHN1Y2Nlc3MsIGluZm8pIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvci4gUGxlYXNlIHRyeSBhZ2Fpbi4nfSk7XG4gICAgICB9IGVsc2UgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKGluZm8uc3RhdHVzQ29kZSkuc2VuZCh7IG1lc3NhZ2U6IGluZm8ubWVzc2FnZSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7bWVzc2FnZTogJ1N1Y2Nlc3NmdWwgdG9rZW4gY3JlYXRpb24nfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGFwcC5kZWxldGUoJy9wZXJzb25zLzppZCcsIGNoZWNrQWRtaW5BdXRoLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIGRlbGV0ZVBlcnNvbihyZXEsIGZ1bmN0aW9uKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnNlbmRTdGF0dXMoNTAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuc2VuZFN0YXR1cygyMDApO1xuICAgIH0pO1xuICB9KTtcblxuICBhcHAuZ2V0KCcvcGVyc29ucycsIGNoZWNrQWRtaW5BdXRoLCBmdW5jdGlvbihyZXEscmVzKSB7XG4gICAgdmFyIHBlcnNvbnMgPSBuZXcgUGVyc29ucygpO1xuICAgIHBlcnNvbnMuZmV0Y2gocmVxLCBmdW5jdGlvbihlcnIsIHJlc3VsdHMpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDUwMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQocmVzdWx0cyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGFwcC5nZXQoJy9zZXNzaW9uJywgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gICAgaWYgKHJlcS5pc0F1dGhlbnRpY2F0ZWQoKSkge1xuICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoeyBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsIEZpcnN0TmFtZTogcmVxLnVzZXIuRmlyc3ROYW1lLCBMYXN0TmFtZTogcmVxLnVzZXIuTGFzdE5hbWUsIFJvbGU6IHJlcS51c2VyLlJvbGUgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vV2Fzbid0IG9yZ2luYWxseSBzZW5kaW5nIGEgbWVzc2FnZSBiYWNrIHdpdGggdGhpcyBidXQgSSB0aGluayBpdCBhdHRlbXB0cyB0byBwYXJzZSB0aGVcbiAgLy9lbXB0eSByZXNwb25zZSBhbmQgZ2V0cyBhbiBlcnJvci4gVHJpZWQgc2V0dGluZyAncGFyc2U6IGZhbHNlJyBvbiB0aGUgY2xpZW50IHRvIG5vIGF2YWlsLlxuICBhcHAuZ2V0KCcvbG9nb3V0JywgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gICAgcmVxLmxvZ291dCgpO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgbWVzc2FnZTogJ1lvdSBoYXZlIHN1Y2Nlc3NmdWxseSBsb2dnZWQgb3V0LicgfSk7XG4gIH0pO1xuXG4gIGFwcC5wb3N0KCcvbG9naW5DcmVhdGlvbicsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgcGFzc3BvcnQuYXV0aGVudGljYXRlKCdsb2NhbC1zaWdudXAnLCBmdW5jdGlvbihlcnIsIHBlcnNvbiwgaW5mbykge1xuICAgICAgaWYgKGVycikgeyByZXR1cm4gbmV4dChlcnIpOyB9XG4gICAgICBpZiAoIXBlcnNvbikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyhpbmZvLnN0YXR1c0NvZGUpLnNlbmQoeyBtZXNzYWdlOiBpbmZvLm1lc3NhZ2UgfSk7XG4gICAgICB9XG4gICAgICByZXEubG9naW4ocGVyc29uLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJlcy5zZW5kKHJlcywgNTAwLCAnVXBzLicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCggeyBGaXJzdE5hbWU6IHBlcnNvbi5GaXJzdE5hbWUgfSApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KShyZXEsIHJlcywgbmV4dCk7XG4gIH0pO1xuXG4gIGFwcC5wb3N0KCcvbG9naW4nLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHBhc3Nwb3J0LmF1dGhlbnRpY2F0ZSgnbG9jYWwtbG9naW4nLCBmdW5jdGlvbihlcnIsIHBlcnNvbiwgaW5mbykge1xuICAgICAgaWYgKGVycikgeyByZXR1cm4gbmV4dChlcnIpOyB9XG4gICAgICBpZiAoIXBlcnNvbikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyhpbmZvLnN0YXR1c0NvZGUpLnNlbmQoeyBtZXNzYWdlOiBpbmZvLm1lc3NhZ2UgfSk7XG4gICAgICB9XG4gICAgICByZXEubG9naW4ocGVyc29uLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJlcy5zZW5kKHJlcywgNTAwLCAnVXBzLicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCggeyBtZXNzYWdlOiAnU1VDQ0VTUycgfSApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KShyZXEsIHJlcywgbmV4dCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGNoZWNrQWRtaW5BdXRoKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgaWYgKHJlcS5pc0F1dGhlbnRpY2F0ZWQoKSkge1xuICAgICAgaWYgKHJlcS51c2VyLlJvbGUgPT09ICdBRE1JTicpIHtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnNlbmRTdGF0dXMoNDAzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnNlbmRTdGF0dXMoNDAzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja1VzZXJBdXRoKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgaWYgKHJlcS5pc0F1dGhlbnRpY2F0ZWQoKSkge1xuICAgICAgaWYgKHJlcS51c2VyLlJvbGUgPT09ICdVU0VSJykge1xuICAgICAgICBuZXh0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc2VuZFN0YXR1cyg0MDMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc2VuZFN0YXR1cyg0MDMpO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcGkvc2VydmVyT2JqZWN0cy9yb3V0ZXMuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 16 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar Promise = __webpack_require__(10);\n\nvar getSqlConnection = __webpack_require__(13);\n\nvar Persons = function Persons() {};\n\nPersons.prototype.fetch = function (req, done) {\n  if (req.query.verified === 'true') {\n    Promise.using(getSqlConnection(), function (connection) {\n      return connection.query(\"SELECT HEX(ID), LastName, FirstName, Email, Role FROM Persons WHERE FirstName IS NOT NULL\").then(function (results) {\n        var returnArray = cleanResults(results);\n        return done(null, returnArray);\n      }).catch(function (error) {\n        return done(error, null);\n      });\n    });\n  } else if (req.query.verified === 'false') {\n    Promise.using(getSqlConnection(), function (connection) {\n      return connection.query(\"SELECT HEX(ID), LastName, FirstName, Email, Role FROM Persons WHERE FirstName IS NULL\").then(function (results) {\n        var returnArray = cleanResults(results);\n        return done(null, returnArray);\n      }).catch(function (error) {\n        return done(error, null);\n      });\n    });\n  } else {\n    Promise.using(getSqlConnection(), function (connection) {\n      return connection.query(\"SELECT HEX(ID), LastName, FirstName, Email, Role FROM Persons\").then(function (results) {\n        var returnArray = cleanResults(results);\n        return done(null, returnArray);\n      }).catch(function (error) {\n        return done(error, null);\n      });\n    });\n  }\n\n  //Helper Function\n  function cleanResults(results) {\n    var returnArray = [];\n    for (var i = 0; i < results.length; i++) {\n      var Person = {};\n      Person.id = results[i]['HEX(ID)'];\n      Person.FirstName = results[i].FirstName;\n      Person.LastName = results[i].LastName;\n      Person.Email = results[i].Email;\n      Person.Role = results[i].Role;\n      returnArray.push(Person);\n    }\n    return returnArray;\n  }\n};\n\nmodule.exports = Persons;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL3NlcnZlck9iamVjdHMvcGVyc29ucy5qcz9lMjIwIl0sIm5hbWVzIjpbIlByb21pc2UiLCJyZXF1aXJlIiwiZ2V0U3FsQ29ubmVjdGlvbiIsIlBlcnNvbnMiLCJwcm90b3R5cGUiLCJmZXRjaCIsInJlcSIsImRvbmUiLCJxdWVyeSIsInZlcmlmaWVkIiwidXNpbmciLCJjb25uZWN0aW9uIiwidGhlbiIsInJlc3VsdHMiLCJyZXR1cm5BcnJheSIsImNsZWFuUmVzdWx0cyIsImNhdGNoIiwiZXJyb3IiLCJpIiwibGVuZ3RoIiwiUGVyc29uIiwiaWQiLCJGaXJzdE5hbWUiLCJMYXN0TmFtZSIsIkVtYWlsIiwiUm9sZSIsInB1c2giLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxJQUFJQSxVQUFVLG1CQUFBQyxDQUFRLEVBQVIsQ0FBZDs7QUFFQSxJQUFJQyxtQkFBbUIsbUJBQUFELENBQVEsRUFBUixDQUF2Qjs7QUFFQSxJQUFJRSxVQUFVLFNBQVZBLE9BQVUsR0FBVSxDQUN2QixDQUREOztBQUdBQSxRQUFRQyxTQUFSLENBQWtCQyxLQUFsQixHQUEwQixVQUFTQyxHQUFULEVBQWNDLElBQWQsRUFBb0I7QUFDNUMsTUFBSUQsSUFBSUUsS0FBSixDQUFVQyxRQUFWLEtBQXVCLE1BQTNCLEVBQW1DO0FBQ2pDVCxZQUFRVSxLQUFSLENBQWNSLGtCQUFkLEVBQWtDLFVBQVNTLFVBQVQsRUFBcUI7QUFDckQsYUFBT0EsV0FBV0gsS0FBWCxDQUFpQiwyRkFBakIsRUFBOEdJLElBQTlHLENBQW1ILFVBQVNDLE9BQVQsRUFBa0I7QUFDMUksWUFBSUMsY0FBY0MsYUFBYUYsT0FBYixDQUFsQjtBQUNBLGVBQU9OLEtBQUssSUFBTCxFQUFXTyxXQUFYLENBQVA7QUFDRCxPQUhNLEVBR0pFLEtBSEksQ0FHRSxVQUFTQyxLQUFULEVBQWdCO0FBQ3ZCLGVBQU9WLEtBQUtVLEtBQUwsRUFBWSxJQUFaLENBQVA7QUFDRCxPQUxNLENBQVA7QUFNRCxLQVBEO0FBUUQsR0FURCxNQVNPLElBQUlYLElBQUlFLEtBQUosQ0FBVUMsUUFBVixLQUF1QixPQUEzQixFQUFvQztBQUN6Q1QsWUFBUVUsS0FBUixDQUFjUixrQkFBZCxFQUFrQyxVQUFTUyxVQUFULEVBQXFCO0FBQ3JELGFBQU9BLFdBQVdILEtBQVgsQ0FBaUIsdUZBQWpCLEVBQTBHSSxJQUExRyxDQUErRyxVQUFTQyxPQUFULEVBQWtCO0FBQ3RJLFlBQUlDLGNBQWNDLGFBQWFGLE9BQWIsQ0FBbEI7QUFDQSxlQUFPTixLQUFLLElBQUwsRUFBV08sV0FBWCxDQUFQO0FBQ0QsT0FITSxFQUdKRSxLQUhJLENBR0UsVUFBU0MsS0FBVCxFQUFnQjtBQUN2QixlQUFPVixLQUFLVSxLQUFMLEVBQVksSUFBWixDQUFQO0FBQ0QsT0FMTSxDQUFQO0FBTUQsS0FQRDtBQVFELEdBVE0sTUFTQTtBQUNMakIsWUFBUVUsS0FBUixDQUFjUixrQkFBZCxFQUFrQyxVQUFTUyxVQUFULEVBQXFCO0FBQ3JELGFBQU9BLFdBQVdILEtBQVgsQ0FBaUIsK0RBQWpCLEVBQWtGSSxJQUFsRixDQUF1RixVQUFTQyxPQUFULEVBQWtCO0FBQzlHLFlBQUlDLGNBQWNDLGFBQWFGLE9BQWIsQ0FBbEI7QUFDQSxlQUFPTixLQUFLLElBQUwsRUFBV08sV0FBWCxDQUFQO0FBQ0QsT0FITSxFQUdKRSxLQUhJLENBR0UsVUFBU0MsS0FBVCxFQUFnQjtBQUN2QixlQUFPVixLQUFLVSxLQUFMLEVBQVksSUFBWixDQUFQO0FBQ0QsT0FMTSxDQUFQO0FBTUQsS0FQRDtBQVFEOztBQUVEO0FBQ0EsV0FBU0YsWUFBVCxDQUFzQkYsT0FBdEIsRUFBK0I7QUFDN0IsUUFBSUMsY0FBYyxFQUFsQjtBQUNBLFNBQUssSUFBSUksSUFBRSxDQUFYLEVBQWVBLElBQUVMLFFBQVFNLE1BQXpCLEVBQWtDRCxHQUFsQyxFQUF1QztBQUNyQyxVQUFJRSxTQUFTLEVBQWI7QUFDQUEsYUFBT0MsRUFBUCxHQUFZUixRQUFRSyxDQUFSLEVBQVcsU0FBWCxDQUFaO0FBQ0FFLGFBQU9FLFNBQVAsR0FBbUJULFFBQVFLLENBQVIsRUFBV0ksU0FBOUI7QUFDQUYsYUFBT0csUUFBUCxHQUFrQlYsUUFBUUssQ0FBUixFQUFXSyxRQUE3QjtBQUNBSCxhQUFPSSxLQUFQLEdBQWVYLFFBQVFLLENBQVIsRUFBV00sS0FBMUI7QUFDQUosYUFBT0ssSUFBUCxHQUFjWixRQUFRSyxDQUFSLEVBQVdPLElBQXpCO0FBQ0FYLGtCQUFZWSxJQUFaLENBQWlCTixNQUFqQjtBQUNEO0FBQ0QsV0FBT04sV0FBUDtBQUNEO0FBQ0YsQ0E1Q0Q7O0FBOENBYSxPQUFPQyxPQUFQLEdBQWlCekIsT0FBakIiLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgUHJvbWlzZSA9IHJlcXVpcmUoXCJibHVlYmlyZFwiKTtcblxudmFyIGdldFNxbENvbm5lY3Rpb24gPSByZXF1aXJlKCcuLi9zZXJ2ZXJDb25maWcvZGF0YWJhc2VDb25uZWN0aW9uJyk7XG5cbnZhciBQZXJzb25zID0gZnVuY3Rpb24oKXtcbn07XG5cblBlcnNvbnMucHJvdG90eXBlLmZldGNoID0gZnVuY3Rpb24ocmVxLCBkb25lKSB7XG4gIGlmIChyZXEucXVlcnkudmVyaWZpZWQgPT09ICd0cnVlJykge1xuICAgIFByb21pc2UudXNpbmcoZ2V0U3FsQ29ubmVjdGlvbigpLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gICAgICByZXR1cm4gY29ubmVjdGlvbi5xdWVyeShcIlNFTEVDVCBIRVgoSUQpLCBMYXN0TmFtZSwgRmlyc3ROYW1lLCBFbWFpbCwgUm9sZSBGUk9NIFBlcnNvbnMgV0hFUkUgRmlyc3ROYW1lIElTIE5PVCBOVUxMXCIpLnRoZW4oZnVuY3Rpb24ocmVzdWx0cykge1xuICAgICAgICB2YXIgcmV0dXJuQXJyYXkgPSBjbGVhblJlc3VsdHMocmVzdWx0cyk7XG4gICAgICAgIHJldHVybiBkb25lKG51bGwsIHJldHVybkFycmF5KTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBkb25lKGVycm9yLCBudWxsKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHJlcS5xdWVyeS52ZXJpZmllZCA9PT0gJ2ZhbHNlJykge1xuICAgIFByb21pc2UudXNpbmcoZ2V0U3FsQ29ubmVjdGlvbigpLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gICAgICByZXR1cm4gY29ubmVjdGlvbi5xdWVyeShcIlNFTEVDVCBIRVgoSUQpLCBMYXN0TmFtZSwgRmlyc3ROYW1lLCBFbWFpbCwgUm9sZSBGUk9NIFBlcnNvbnMgV0hFUkUgRmlyc3ROYW1lIElTIE5VTExcIikudGhlbihmdW5jdGlvbihyZXN1bHRzKSB7XG4gICAgICAgIHZhciByZXR1cm5BcnJheSA9IGNsZWFuUmVzdWx0cyhyZXN1bHRzKTtcbiAgICAgICAgcmV0dXJuIGRvbmUobnVsbCwgcmV0dXJuQXJyYXkpO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGRvbmUoZXJyb3IsIG51bGwpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgUHJvbWlzZS51c2luZyhnZXRTcWxDb25uZWN0aW9uKCksIGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgICAgIHJldHVybiBjb25uZWN0aW9uLnF1ZXJ5KFwiU0VMRUNUIEhFWChJRCksIExhc3ROYW1lLCBGaXJzdE5hbWUsIEVtYWlsLCBSb2xlIEZST00gUGVyc29uc1wiKS50aGVuKGZ1bmN0aW9uKHJlc3VsdHMpIHtcbiAgICAgICAgdmFyIHJldHVybkFycmF5ID0gY2xlYW5SZXN1bHRzKHJlc3VsdHMpO1xuICAgICAgICByZXR1cm4gZG9uZShudWxsLCByZXR1cm5BcnJheSk7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICByZXR1cm4gZG9uZShlcnJvciwgbnVsbCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vSGVscGVyIEZ1bmN0aW9uXG4gIGZ1bmN0aW9uIGNsZWFuUmVzdWx0cyhyZXN1bHRzKSB7XG4gICAgdmFyIHJldHVybkFycmF5ID0gW107XG4gICAgZm9yICh2YXIgaT0wIDsgaTxyZXN1bHRzLmxlbmd0aCA7IGkrKykge1xuICAgICAgdmFyIFBlcnNvbiA9IHt9O1xuICAgICAgUGVyc29uLmlkID0gcmVzdWx0c1tpXVsnSEVYKElEKSddO1xuICAgICAgUGVyc29uLkZpcnN0TmFtZSA9IHJlc3VsdHNbaV0uRmlyc3ROYW1lO1xuICAgICAgUGVyc29uLkxhc3ROYW1lID0gcmVzdWx0c1tpXS5MYXN0TmFtZTtcbiAgICAgIFBlcnNvbi5FbWFpbCA9IHJlc3VsdHNbaV0uRW1haWw7XG4gICAgICBQZXJzb24uUm9sZSA9IHJlc3VsdHNbaV0uUm9sZTtcbiAgICAgIHJldHVybkFycmF5LnB1c2goUGVyc29uKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldHVybkFycmF5O1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBlcnNvbnM7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBpL3NlcnZlck9iamVjdHMvcGVyc29ucy5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 17 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar moment = __webpack_require__(18);\nvar Promise = __webpack_require__(10);\n\nvar getSqlConnection = __webpack_require__(13);\n\nvar TimeSheets = function TimeSheets() {};\n\nTimeSheets.prototype.fetch = function (req, done) {\n  var wideSelectStartDate = moment(req.query.selectStartDate).subtract(1, 'M').format('YYYY-MM-DD');\n  var wideSelectEndDate = moment(req.query.selectEndDate).add(1, 'M').format('YYYY-MM-DD');\n  Promise.using(getSqlConnection(), function (connection) {\n    return connection.query(\"SELECT HEX(person_id), weekStartDate, mondayTime, tuesdayTime, wednesdayTime, thursdayTime, fridayTime, totalTime \\\n    FROM TimeSheets WHERE (weekStartDate BETWEEN ? AND ?) AND HEX(person_id) = ?\", [wideSelectStartDate, wideSelectEndDate, req.user['HEX(ID)']]).then(function (rows) {\n      var cleanedResults = cleanResults(rows);\n      return done(null, cleanedResults);\n    }).catch(function (error) {\n      return done(err, null);\n    });\n  });\n\n  //Helper Function\n  function cleanResults(results) {\n    var returnArray = [];\n    var next = false;\n    var prev = false;\n    var timeSelectorDateFound = false;\n\n    for (var i = 0; i < results.length; i++) {\n      if (moment(results[i].weekStartDate).isBefore(req.query.selectStartDate)) {\n        prev = true;\n        continue;\n      } else if (moment(results[i].weekStartDate).isAfter(req.query.selectEndDate)) {\n        next = true;\n        continue;\n      }\n\n      var timeSheet = {};\n      timeSheet.id = results[i]['HEX(person_id)'];\n      timeSheet.weekStartDate = results[i].weekStartDate;\n      timeSheet.mondayTime = results[i].mondayTime;\n      timeSheet.tuesdayTime = results[i].tuesdayTime;\n      timeSheet.wednesdayTime = results[i].wednesdayTime;\n      timeSheet.thursdayTime = results[i].thursdayTime;\n      timeSheet.fridayTime = results[i].fridayTime;\n      timeSheet.totalTime = results[i].totalTime;\n      returnArray.push(timeSheet);\n    }\n    return { resultsArray: returnArray, prev: prev, next: next };\n  }\n};\n\nmodule.exports = TimeSheets;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL3NlcnZlck9iamVjdHMvdGltZXNoZWV0cy5qcz80MGI5Il0sIm5hbWVzIjpbIm1vbWVudCIsInJlcXVpcmUiLCJQcm9taXNlIiwiZ2V0U3FsQ29ubmVjdGlvbiIsIlRpbWVTaGVldHMiLCJwcm90b3R5cGUiLCJmZXRjaCIsInJlcSIsImRvbmUiLCJ3aWRlU2VsZWN0U3RhcnREYXRlIiwicXVlcnkiLCJzZWxlY3RTdGFydERhdGUiLCJzdWJ0cmFjdCIsImZvcm1hdCIsIndpZGVTZWxlY3RFbmREYXRlIiwic2VsZWN0RW5kRGF0ZSIsImFkZCIsInVzaW5nIiwiY29ubmVjdGlvbiIsInVzZXIiLCJ0aGVuIiwicm93cyIsImNsZWFuZWRSZXN1bHRzIiwiY2xlYW5SZXN1bHRzIiwiY2F0Y2giLCJlcnJvciIsImVyciIsInJlc3VsdHMiLCJyZXR1cm5BcnJheSIsIm5leHQiLCJwcmV2IiwidGltZVNlbGVjdG9yRGF0ZUZvdW5kIiwiaSIsImxlbmd0aCIsIndlZWtTdGFydERhdGUiLCJpc0JlZm9yZSIsImlzQWZ0ZXIiLCJ0aW1lU2hlZXQiLCJpZCIsIm1vbmRheVRpbWUiLCJ0dWVzZGF5VGltZSIsIndlZG5lc2RheVRpbWUiLCJ0aHVyc2RheVRpbWUiLCJmcmlkYXlUaW1lIiwidG90YWxUaW1lIiwicHVzaCIsInJlc3VsdHNBcnJheSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsU0FBUyxtQkFBQUMsQ0FBUSxFQUFSLENBQWI7QUFDQSxJQUFJQyxVQUFVLG1CQUFBRCxDQUFRLEVBQVIsQ0FBZDs7QUFFQSxJQUFJRSxtQkFBbUIsbUJBQUFGLENBQVEsRUFBUixDQUF2Qjs7QUFFQSxJQUFJRyxhQUFhLFNBQWJBLFVBQWEsR0FBVSxDQUMxQixDQUREOztBQUdBQSxXQUFXQyxTQUFYLENBQXFCQyxLQUFyQixHQUE2QixVQUFTQyxHQUFULEVBQWNDLElBQWQsRUFBb0I7QUFDL0MsTUFBSUMsc0JBQXNCVCxPQUFPTyxJQUFJRyxLQUFKLENBQVVDLGVBQWpCLEVBQWtDQyxRQUFsQyxDQUEyQyxDQUEzQyxFQUE4QyxHQUE5QyxFQUFtREMsTUFBbkQsQ0FBMEQsWUFBMUQsQ0FBMUI7QUFDQSxNQUFJQyxvQkFBb0JkLE9BQU9PLElBQUlHLEtBQUosQ0FBVUssYUFBakIsRUFBZ0NDLEdBQWhDLENBQW9DLENBQXBDLEVBQXVDLEdBQXZDLEVBQTRDSCxNQUE1QyxDQUFtRCxZQUFuRCxDQUF4QjtBQUNBWCxVQUFRZSxLQUFSLENBQWNkLGtCQUFkLEVBQWtDLFVBQVNlLFVBQVQsRUFBcUI7QUFDckQsV0FBT0EsV0FBV1IsS0FBWCxDQUFpQjtpRkFBakIsRUFDd0UsQ0FBQ0QsbUJBQUQsRUFBc0JLLGlCQUF0QixFQUF5Q1AsSUFBSVksSUFBSixDQUFTLFNBQVQsQ0FBekMsQ0FEeEUsRUFDdUlDLElBRHZJLENBQzRJLFVBQVNDLElBQVQsRUFBZTtBQUNoSyxVQUFJQyxpQkFBaUJDLGFBQWFGLElBQWIsQ0FBckI7QUFDQSxhQUFPYixLQUFLLElBQUwsRUFBV2MsY0FBWCxDQUFQO0FBQ0QsS0FKTSxFQUlKRSxLQUpJLENBSUUsVUFBU0MsS0FBVCxFQUFnQjtBQUN2QixhQUFPakIsS0FBS2tCLEdBQUwsRUFBVSxJQUFWLENBQVA7QUFDRCxLQU5NLENBQVA7QUFPRCxHQVJEOztBQVVBO0FBQ0EsV0FBU0gsWUFBVCxDQUFzQkksT0FBdEIsRUFBK0I7QUFDN0IsUUFBSUMsY0FBYyxFQUFsQjtBQUNBLFFBQUlDLE9BQU8sS0FBWDtBQUNBLFFBQUlDLE9BQU8sS0FBWDtBQUNBLFFBQUlDLHdCQUF3QixLQUE1Qjs7QUFFQSxTQUFLLElBQUlDLElBQUUsQ0FBWCxFQUFlQSxJQUFFTCxRQUFRTSxNQUF6QixFQUFrQ0QsR0FBbEMsRUFBdUM7QUFDckMsVUFBSWhDLE9BQU8yQixRQUFRSyxDQUFSLEVBQVdFLGFBQWxCLEVBQWlDQyxRQUFqQyxDQUEwQzVCLElBQUlHLEtBQUosQ0FBVUMsZUFBcEQsQ0FBSixFQUEwRTtBQUN4RW1CLGVBQU8sSUFBUDtBQUNBO0FBQ0QsT0FIRCxNQUdPLElBQUk5QixPQUFPMkIsUUFBUUssQ0FBUixFQUFXRSxhQUFsQixFQUFpQ0UsT0FBakMsQ0FBeUM3QixJQUFJRyxLQUFKLENBQVVLLGFBQW5ELENBQUosRUFBdUU7QUFDNUVjLGVBQU8sSUFBUDtBQUNBO0FBQ0Q7O0FBRUQsVUFBSVEsWUFBWSxFQUFoQjtBQUNBQSxnQkFBVUMsRUFBVixHQUFlWCxRQUFRSyxDQUFSLEVBQVcsZ0JBQVgsQ0FBZjtBQUNBSyxnQkFBVUgsYUFBVixHQUEwQlAsUUFBUUssQ0FBUixFQUFXRSxhQUFyQztBQUNBRyxnQkFBVUUsVUFBVixHQUF1QlosUUFBUUssQ0FBUixFQUFXTyxVQUFsQztBQUNBRixnQkFBVUcsV0FBVixHQUF3QmIsUUFBUUssQ0FBUixFQUFXUSxXQUFuQztBQUNBSCxnQkFBVUksYUFBVixHQUEwQmQsUUFBUUssQ0FBUixFQUFXUyxhQUFyQztBQUNBSixnQkFBVUssWUFBVixHQUF5QmYsUUFBUUssQ0FBUixFQUFXVSxZQUFwQztBQUNBTCxnQkFBVU0sVUFBVixHQUF1QmhCLFFBQVFLLENBQVIsRUFBV1csVUFBbEM7QUFDQU4sZ0JBQVVPLFNBQVYsR0FBc0JqQixRQUFRSyxDQUFSLEVBQVdZLFNBQWpDO0FBQ0FoQixrQkFBWWlCLElBQVosQ0FBaUJSLFNBQWpCO0FBQ0Q7QUFDRCxXQUFPLEVBQUVTLGNBQWNsQixXQUFoQixFQUE2QkUsTUFBTUEsSUFBbkMsRUFBeUNELE1BQU1BLElBQS9DLEVBQVA7QUFDRDtBQUNGLENBMUNEOztBQTRDQWtCLE9BQU9DLE9BQVAsR0FBaUI1QyxVQUFqQiIsImZpbGUiOiIxNy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcbnZhciBQcm9taXNlID0gcmVxdWlyZShcImJsdWViaXJkXCIpO1xuXG52YXIgZ2V0U3FsQ29ubmVjdGlvbiA9IHJlcXVpcmUoJy4uL3NlcnZlckNvbmZpZy9kYXRhYmFzZUNvbm5lY3Rpb24nKTtcblxudmFyIFRpbWVTaGVldHMgPSBmdW5jdGlvbigpe1xufTtcblxuVGltZVNoZWV0cy5wcm90b3R5cGUuZmV0Y2ggPSBmdW5jdGlvbihyZXEsIGRvbmUpIHtcbiAgdmFyIHdpZGVTZWxlY3RTdGFydERhdGUgPSBtb21lbnQocmVxLnF1ZXJ5LnNlbGVjdFN0YXJ0RGF0ZSkuc3VidHJhY3QoMSwgJ00nKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgdmFyIHdpZGVTZWxlY3RFbmREYXRlID0gbW9tZW50KHJlcS5xdWVyeS5zZWxlY3RFbmREYXRlKS5hZGQoMSwgJ00nKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgUHJvbWlzZS51c2luZyhnZXRTcWxDb25uZWN0aW9uKCksIGZ1bmN0aW9uKGNvbm5lY3Rpb24pIHtcbiAgICByZXR1cm4gY29ubmVjdGlvbi5xdWVyeShcIlNFTEVDVCBIRVgocGVyc29uX2lkKSwgd2Vla1N0YXJ0RGF0ZSwgbW9uZGF5VGltZSwgdHVlc2RheVRpbWUsIHdlZG5lc2RheVRpbWUsIHRodXJzZGF5VGltZSwgZnJpZGF5VGltZSwgdG90YWxUaW1lIFxcXG4gICAgRlJPTSBUaW1lU2hlZXRzIFdIRVJFICh3ZWVrU3RhcnREYXRlIEJFVFdFRU4gPyBBTkQgPykgQU5EIEhFWChwZXJzb25faWQpID0gP1wiLCBbd2lkZVNlbGVjdFN0YXJ0RGF0ZSwgd2lkZVNlbGVjdEVuZERhdGUsIHJlcS51c2VyWydIRVgoSUQpJ11dKS50aGVuKGZ1bmN0aW9uKHJvd3MpIHtcbiAgICAgIHZhciBjbGVhbmVkUmVzdWx0cyA9IGNsZWFuUmVzdWx0cyhyb3dzKTtcbiAgICAgIHJldHVybiBkb25lKG51bGwsIGNsZWFuZWRSZXN1bHRzKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgcmV0dXJuIGRvbmUoZXJyLCBudWxsKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy9IZWxwZXIgRnVuY3Rpb25cbiAgZnVuY3Rpb24gY2xlYW5SZXN1bHRzKHJlc3VsdHMpIHtcbiAgICB2YXIgcmV0dXJuQXJyYXkgPSBbXTtcbiAgICB2YXIgbmV4dCA9IGZhbHNlO1xuICAgIHZhciBwcmV2ID0gZmFsc2U7XG4gICAgdmFyIHRpbWVTZWxlY3RvckRhdGVGb3VuZCA9IGZhbHNlO1xuXG4gICAgZm9yICh2YXIgaT0wIDsgaTxyZXN1bHRzLmxlbmd0aCA7IGkrKykge1xuICAgICAgaWYgKG1vbWVudChyZXN1bHRzW2ldLndlZWtTdGFydERhdGUpLmlzQmVmb3JlKHJlcS5xdWVyeS5zZWxlY3RTdGFydERhdGUpKSB7XG4gICAgICAgIHByZXYgPSB0cnVlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSBpZiAobW9tZW50KHJlc3VsdHNbaV0ud2Vla1N0YXJ0RGF0ZSkuaXNBZnRlcihyZXEucXVlcnkuc2VsZWN0RW5kRGF0ZSkpIHtcbiAgICAgICAgbmV4dCA9IHRydWU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGltZVNoZWV0ID0ge307XG4gICAgICB0aW1lU2hlZXQuaWQgPSByZXN1bHRzW2ldWydIRVgocGVyc29uX2lkKSddO1xuICAgICAgdGltZVNoZWV0LndlZWtTdGFydERhdGUgPSByZXN1bHRzW2ldLndlZWtTdGFydERhdGU7XG4gICAgICB0aW1lU2hlZXQubW9uZGF5VGltZSA9IHJlc3VsdHNbaV0ubW9uZGF5VGltZTtcbiAgICAgIHRpbWVTaGVldC50dWVzZGF5VGltZSA9IHJlc3VsdHNbaV0udHVlc2RheVRpbWU7XG4gICAgICB0aW1lU2hlZXQud2VkbmVzZGF5VGltZSA9IHJlc3VsdHNbaV0ud2VkbmVzZGF5VGltZTtcbiAgICAgIHRpbWVTaGVldC50aHVyc2RheVRpbWUgPSByZXN1bHRzW2ldLnRodXJzZGF5VGltZTtcbiAgICAgIHRpbWVTaGVldC5mcmlkYXlUaW1lID0gcmVzdWx0c1tpXS5mcmlkYXlUaW1lO1xuICAgICAgdGltZVNoZWV0LnRvdGFsVGltZSA9IHJlc3VsdHNbaV0udG90YWxUaW1lO1xuICAgICAgcmV0dXJuQXJyYXkucHVzaCh0aW1lU2hlZXQpO1xuICAgIH1cbiAgICByZXR1cm4geyByZXN1bHRzQXJyYXk6IHJldHVybkFycmF5LCBwcmV2OiBwcmV2LCBuZXh0OiBuZXh0IH07XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVGltZVNoZWV0cztcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hcGkvc2VydmVyT2JqZWN0cy90aW1lc2hlZXRzLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 18 */
/***/ function(module, exports) {

	eval("module.exports = require(\"moment\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb21lbnRcIj9hODhkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibW9tZW50XCIpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZXh0ZXJuYWwgXCJtb21lbnRcIlxuICoqIG1vZHVsZSBpZCA9IDE4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 19 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar Promise = __webpack_require__(10);\n\nvar getSqlConnection = __webpack_require__(13);\nvar transporter = __webpack_require__(20);\nvar signupEmailMessage = __webpack_require__(22);\n\nvar sendSignUpEmailMail = function sendSignUpEmailMail(email, done) {\n  Promise.using(getSqlConnection(), function (connection) {\n    return connection.query(\"SELECT 1 FROM Persons WHERE Email = ?\", [email]).then(function (results) {\n      if (results.length) {\n        return done(null, false, { statusCode: 409, message: 'That email is already in use.' });\n      }\n      return connection.query(\"SELECT REPLACE(UUID(),'-','') as token\").then(function (results) {\n        var token = results[0].token;\n        return connection.query(\"INSERT INTO Persons Values(UNHEX(?), null, null, ?, null, null)\", [token, email]).then(function (results) {\n          var message = signupEmailMessage(email, token);\n          transporter.sendMail(message, function (error, info) {\n            if (error) {\n              console.log(error);\n            } else {\n              console.log('Sent: ' + info.response);\n            }\n          });\n          return done(null, true);\n        });\n      });\n    }).catch(function (error) {\n      console.log(error);\n      done(error);\n    });\n  });\n};\n\nmodule.exports = sendSignUpEmailMail;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL3NlcnZlck9iamVjdHMvc2lnbnVwRW1haWwuanM/YWUzNyJdLCJuYW1lcyI6WyJQcm9taXNlIiwicmVxdWlyZSIsImdldFNxbENvbm5lY3Rpb24iLCJ0cmFuc3BvcnRlciIsInNpZ251cEVtYWlsTWVzc2FnZSIsInNlbmRTaWduVXBFbWFpbE1haWwiLCJlbWFpbCIsImRvbmUiLCJ1c2luZyIsImNvbm5lY3Rpb24iLCJxdWVyeSIsInRoZW4iLCJyZXN1bHRzIiwibGVuZ3RoIiwic3RhdHVzQ29kZSIsIm1lc3NhZ2UiLCJ0b2tlbiIsInNlbmRNYWlsIiwiZXJyb3IiLCJpbmZvIiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwiY2F0Y2giLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxJQUFJQSxVQUFVLG1CQUFBQyxDQUFRLEVBQVIsQ0FBZDs7QUFFQSxJQUFJQyxtQkFBbUIsbUJBQUFELENBQVEsRUFBUixDQUF2QjtBQUNBLElBQUlFLGNBQWMsbUJBQUFGLENBQVEsRUFBUixDQUFsQjtBQUNBLElBQUlHLHFCQUFxQixtQkFBQUgsQ0FBUSxFQUFSLENBQXpCOztBQUVBLElBQUlJLHNCQUFzQixTQUF0QkEsbUJBQXNCLENBQVNDLEtBQVQsRUFBZ0JDLElBQWhCLEVBQXNCO0FBQzlDUCxVQUFRUSxLQUFSLENBQWNOLGtCQUFkLEVBQWtDLFVBQVNPLFVBQVQsRUFBcUI7QUFDckQsV0FBT0EsV0FBV0MsS0FBWCxDQUFpQix1Q0FBakIsRUFBMEQsQ0FBQ0osS0FBRCxDQUExRCxFQUFtRUssSUFBbkUsQ0FBd0UsVUFBU0MsT0FBVCxFQUFrQjtBQUMvRixVQUFJQSxRQUFRQyxNQUFaLEVBQW9CO0FBQ2xCLGVBQU9OLEtBQUssSUFBTCxFQUFXLEtBQVgsRUFBa0IsRUFBQ08sWUFBWSxHQUFiLEVBQWtCQyxTQUFTLCtCQUEzQixFQUFsQixDQUFQO0FBQ0Q7QUFDRCxhQUFPTixXQUFXQyxLQUFYLENBQWlCLHdDQUFqQixFQUEyREMsSUFBM0QsQ0FBZ0UsVUFBU0MsT0FBVCxFQUFrQjtBQUN2RixZQUFJSSxRQUFRSixRQUFRLENBQVIsRUFBV0ksS0FBdkI7QUFDQSxlQUFPUCxXQUFXQyxLQUFYLENBQWlCLGlFQUFqQixFQUFvRixDQUFDTSxLQUFELEVBQVFWLEtBQVIsQ0FBcEYsRUFBb0dLLElBQXBHLENBQXlHLFVBQVNDLE9BQVQsRUFBa0I7QUFDaEksY0FBSUcsVUFBVVgsbUJBQW1CRSxLQUFuQixFQUEwQlUsS0FBMUIsQ0FBZDtBQUNBYixzQkFBWWMsUUFBWixDQUFxQkYsT0FBckIsRUFBOEIsVUFBU0csS0FBVCxFQUFnQkMsSUFBaEIsRUFBc0I7QUFDbEQsZ0JBQUlELEtBQUosRUFBVztBQUNURSxzQkFBUUMsR0FBUixDQUFZSCxLQUFaO0FBQ0QsYUFGRCxNQUVPO0FBQ0xFLHNCQUFRQyxHQUFSLENBQVksV0FBV0YsS0FBS0csUUFBNUI7QUFDRDtBQUNGLFdBTkQ7QUFPQSxpQkFBT2YsS0FBSyxJQUFMLEVBQVcsSUFBWCxDQUFQO0FBQ0QsU0FWTSxDQUFQO0FBV0QsT0FiTSxDQUFQO0FBY0QsS0FsQk0sRUFrQkpnQixLQWxCSSxDQWtCRSxVQUFTTCxLQUFULEVBQWdCO0FBQ3ZCRSxjQUFRQyxHQUFSLENBQVlILEtBQVo7QUFDQVgsV0FBS1csS0FBTDtBQUNELEtBckJNLENBQVA7QUFzQkQsR0F2QkQ7QUF3QkQsQ0F6QkQ7O0FBMkJBTSxPQUFPQyxPQUFQLEdBQWlCcEIsbUJBQWpCIiwiZmlsZSI6IjE5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyIFByb21pc2UgPSByZXF1aXJlKFwiYmx1ZWJpcmRcIik7XG5cbnZhciBnZXRTcWxDb25uZWN0aW9uID0gcmVxdWlyZSgnLi4vc2VydmVyQ29uZmlnL2RhdGFiYXNlQ29ubmVjdGlvbicpO1xudmFyIHRyYW5zcG9ydGVyID0gcmVxdWlyZSgnLi4vc2VydmVyQ29uZmlnL2VtYWlsU2V0dXAnKTtcbnZhciBzaWdudXBFbWFpbE1lc3NhZ2UgPSByZXF1aXJlKCcuL3NpZ251cEVtYWlsTWVzc2FnZScpO1xuXG52YXIgc2VuZFNpZ25VcEVtYWlsTWFpbCA9IGZ1bmN0aW9uKGVtYWlsLCBkb25lKSB7XG4gIFByb21pc2UudXNpbmcoZ2V0U3FsQ29ubmVjdGlvbigpLCBmdW5jdGlvbihjb25uZWN0aW9uKSB7XG4gICAgcmV0dXJuIGNvbm5lY3Rpb24ucXVlcnkoXCJTRUxFQ1QgMSBGUk9NIFBlcnNvbnMgV0hFUkUgRW1haWwgPSA/XCIsIFtlbWFpbF0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0cykge1xuICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBkb25lKG51bGwsIGZhbHNlLCB7c3RhdHVzQ29kZTogNDA5LCBtZXNzYWdlOiAnVGhhdCBlbWFpbCBpcyBhbHJlYWR5IGluIHVzZS4nfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb25uZWN0aW9uLnF1ZXJ5KFwiU0VMRUNUIFJFUExBQ0UoVVVJRCgpLCctJywnJykgYXMgdG9rZW5cIikudGhlbihmdW5jdGlvbihyZXN1bHRzKSB7XG4gICAgICAgIHZhciB0b2tlbiA9IHJlc3VsdHNbMF0udG9rZW47XG4gICAgICAgIHJldHVybiBjb25uZWN0aW9uLnF1ZXJ5KFwiSU5TRVJUIElOVE8gUGVyc29ucyBWYWx1ZXMoVU5IRVgoPyksIG51bGwsIG51bGwsID8sIG51bGwsIG51bGwpXCIsIFt0b2tlbiwgZW1haWxdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdHMpIHtcbiAgICAgICAgICB2YXIgbWVzc2FnZSA9IHNpZ251cEVtYWlsTWVzc2FnZShlbWFpbCwgdG9rZW4pO1xuICAgICAgICAgIHRyYW5zcG9ydGVyLnNlbmRNYWlsKG1lc3NhZ2UsIGZ1bmN0aW9uKGVycm9yLCBpbmZvKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlbnQ6ICcgKyBpbmZvLnJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gZG9uZShudWxsLCB0cnVlKTtcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIGRvbmUoZXJyb3IpO1xuICAgIH0pO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZW5kU2lnblVwRW1haWxNYWlsO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwaS9zZXJ2ZXJPYmplY3RzL3NpZ251cEVtYWlsLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 20 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar nodemailer = __webpack_require__(21);\n\nmodule.exports = nodemailer.createTransport({\n  service: 'Mailgun',\n  auth: {\n    user: 'postmaster@sandbox30cd4bd1b82d429d89c3cb4e00df032a.mailgun.org',\n    pass: 'cf720a8ce58aa1658aff323721ba382d'\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL3NlcnZlckNvbmZpZy9lbWFpbFNldHVwLmpzP2NjNTQiXSwibmFtZXMiOlsibm9kZW1haWxlciIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3JlYXRlVHJhbnNwb3J0Iiwic2VydmljZSIsImF1dGgiLCJ1c2VyIiwicGFzcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxhQUFhLG1CQUFBQyxDQUFRLEVBQVIsQ0FBakI7O0FBRUFDLE9BQU9DLE9BQVAsR0FBaUJILFdBQVdJLGVBQVgsQ0FBMkI7QUFDMUNDLFdBQVMsU0FEaUM7QUFFMUNDLFFBQU07QUFDSkMsVUFBTSxnRUFERjtBQUVKQyxVQUFNO0FBRkY7QUFGb0MsQ0FBM0IsQ0FBakIiLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbm9kZW1haWxlciA9IHJlcXVpcmUoJ25vZGVtYWlsZXInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh7XG4gIHNlcnZpY2U6ICdNYWlsZ3VuJyxcbiAgYXV0aDoge1xuICAgIHVzZXI6ICdwb3N0bWFzdGVyQHNhbmRib3gzMGNkNGJkMWI4MmQ0MjlkODljM2NiNGUwMGRmMDMyYS5tYWlsZ3VuLm9yZycsXG4gICAgcGFzczogJ2NmNzIwYThjZTU4YWExNjU4YWZmMzIzNzIxYmEzODJkJ1xuICB9XG59KTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwaS9zZXJ2ZXJDb25maWcvZW1haWxTZXR1cC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 21 */
/***/ function(module, exports) {

	eval("module.exports = require(\"nodemailer\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJub2RlbWFpbGVyXCI/OWM0ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIyMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm5vZGVtYWlsZXJcIik7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiBleHRlcm5hbCBcIm5vZGVtYWlsZXJcIlxuICoqIG1vZHVsZSBpZCA9IDIxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 22 */
/***/ function(module, exports) {

	eval("'use strict';\n\nvar signupEmailMessage = function signupEmailMessage(email, token) {\n  var message = {\n    from: 'elevationHealthcareSignup@elevationhealthcare.com',\n    to: email,\n    subject: 'Elevation Healthcare - Authentication Token',\n    text: \"You're receiving this message as your employer has added you \\\n    to their time sheet application. Below you will find an authentication token \\\n    created just for you. With that, please do not share this token with anyone as it is \\\n    only good for one use. Please follow the link below to create your account \\\n    and get started! \\n\\n \\\n    Authentication Token: \" + token + \"\\n \\\n    Account Creation URL: http://tsademo.clwproductions.com/#CreateAccount \\n\\n \\\n    NOTE: This email was automatically generated so please do not reply. If \\\n    you seek help contact your manager.\"\n  };\n\n  return message;\n};\n\nmodule.exports = signupEmailMessage;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL3NlcnZlck9iamVjdHMvc2lnbnVwRW1haWxNZXNzYWdlLmpzPzBjZjMiXSwibmFtZXMiOlsic2lnbnVwRW1haWxNZXNzYWdlIiwiZW1haWwiLCJ0b2tlbiIsIm1lc3NhZ2UiLCJmcm9tIiwidG8iLCJzdWJqZWN0IiwidGV4dCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEscUJBQXFCLFNBQXJCQSxrQkFBcUIsQ0FBU0MsS0FBVCxFQUFnQkMsS0FBaEIsRUFBdUI7QUFDOUMsTUFBSUMsVUFBVTtBQUNaQyxVQUFNLG1EQURNO0FBRVpDLFFBQUlKLEtBRlE7QUFHWkssYUFBUyw2Q0FIRztBQUlaQyxVQUFNOzs7OzsyQkFBQSxHQUtvQkwsS0FMcEIsR0FLNEI7Ozs7QUFUdEIsR0FBZDs7QUFlQSxTQUFPQyxPQUFQO0FBQ0QsQ0FqQkQ7O0FBbUJBSyxPQUFPQyxPQUFQLEdBQWlCVCxrQkFBakIiLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc2lnbnVwRW1haWxNZXNzYWdlID0gZnVuY3Rpb24oZW1haWwsIHRva2VuKSB7XG4gIHZhciBtZXNzYWdlID0ge1xuICAgIGZyb206ICdlbGV2YXRpb25IZWFsdGhjYXJlU2lnbnVwQGVsZXZhdGlvbmhlYWx0aGNhcmUuY29tJyxcbiAgICB0bzogZW1haWwsXG4gICAgc3ViamVjdDogJ0VsZXZhdGlvbiBIZWFsdGhjYXJlIC0gQXV0aGVudGljYXRpb24gVG9rZW4nLFxuICAgIHRleHQ6IFwiWW91J3JlIHJlY2VpdmluZyB0aGlzIG1lc3NhZ2UgYXMgeW91ciBlbXBsb3llciBoYXMgYWRkZWQgeW91IFxcXG4gICAgdG8gdGhlaXIgdGltZSBzaGVldCBhcHBsaWNhdGlvbi4gQmVsb3cgeW91IHdpbGwgZmluZCBhbiBhdXRoZW50aWNhdGlvbiB0b2tlbiBcXFxuICAgIGNyZWF0ZWQganVzdCBmb3IgeW91LiBXaXRoIHRoYXQsIHBsZWFzZSBkbyBub3Qgc2hhcmUgdGhpcyB0b2tlbiB3aXRoIGFueW9uZSBhcyBpdCBpcyBcXFxuICAgIG9ubHkgZ29vZCBmb3Igb25lIHVzZS4gUGxlYXNlIGZvbGxvdyB0aGUgbGluayBiZWxvdyB0byBjcmVhdGUgeW91ciBhY2NvdW50IFxcXG4gICAgYW5kIGdldCBzdGFydGVkISBcXG5cXG4gXFxcbiAgICBBdXRoZW50aWNhdGlvbiBUb2tlbjogXCIgKyB0b2tlbiArIFwiXFxuIFxcXG4gICAgQWNjb3VudCBDcmVhdGlvbiBVUkw6IGh0dHA6Ly90c2FkZW1vLmNsd3Byb2R1Y3Rpb25zLmNvbS8jQ3JlYXRlQWNjb3VudCBcXG5cXG4gXFxcbiAgICBOT1RFOiBUaGlzIGVtYWlsIHdhcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBzbyBwbGVhc2UgZG8gbm90IHJlcGx5LiBJZiBcXFxuICAgIHlvdSBzZWVrIGhlbHAgY29udGFjdCB5b3VyIG1hbmFnZXIuXCJcbiAgfTtcblxuICByZXR1cm4gbWVzc2FnZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gc2lnbnVwRW1haWxNZXNzYWdlO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FwaS9zZXJ2ZXJPYmplY3RzL3NpZ251cEVtYWlsTWVzc2FnZS5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 23 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar Promise = __webpack_require__(10);\n\nvar getSqlConnection = __webpack_require__(13);\n\nvar deletePerson = function deletePerson(req, done) {\n\tPromise.using(getSqlConnection(), function (connection) {\n\t\treturn connection.query(\"DELETE FROM Persons WHERE HEX(ID) = ?\", [req.params.id]).then(function (results) {\n\t\t\treturn done(null);\n\t\t}).catch(function (error) {\n\t\t\tdone(error);\n\t\t});\n\t});\n};\n\nmodule.exports = deletePerson;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL3NlcnZlck9iamVjdHMvZGVsZXRlUGVyc29uLmpzPzg2NWEiXSwibmFtZXMiOlsiUHJvbWlzZSIsInJlcXVpcmUiLCJnZXRTcWxDb25uZWN0aW9uIiwiZGVsZXRlUGVyc29uIiwicmVxIiwiZG9uZSIsInVzaW5nIiwiY29ubmVjdGlvbiIsInF1ZXJ5IiwicGFyYW1zIiwiaWQiLCJ0aGVuIiwicmVzdWx0cyIsImNhdGNoIiwiZXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxJQUFJQSxVQUFVLG1CQUFBQyxDQUFRLEVBQVIsQ0FBZDs7QUFFQSxJQUFJQyxtQkFBbUIsbUJBQUFELENBQVEsRUFBUixDQUF2Qjs7QUFFQSxJQUFJRSxlQUFlLFNBQWZBLFlBQWUsQ0FBU0MsR0FBVCxFQUFjQyxJQUFkLEVBQW9CO0FBQ3RDTCxTQUFRTSxLQUFSLENBQWNKLGtCQUFkLEVBQWtDLFVBQVNLLFVBQVQsRUFBcUI7QUFDdEQsU0FBT0EsV0FBV0MsS0FBWCxDQUFpQix1Q0FBakIsRUFBMkQsQ0FBQ0osSUFBSUssTUFBSixDQUFXQyxFQUFaLENBQTNELEVBQTRFQyxJQUE1RSxDQUFpRixVQUFTQyxPQUFULEVBQWtCO0FBQ3pHLFVBQU9QLEtBQUssSUFBTCxDQUFQO0FBQ0EsR0FGTSxFQUVKUSxLQUZJLENBRUUsVUFBU0MsS0FBVCxFQUFnQjtBQUN4QlQsUUFBS1MsS0FBTDtBQUNBLEdBSk0sQ0FBUDtBQUtBLEVBTkQ7QUFPQSxDQVJEOztBQVVBQyxPQUFPQyxPQUFQLEdBQWlCYixZQUFqQiIsImZpbGUiOiIyMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciBQcm9taXNlID0gcmVxdWlyZShcImJsdWViaXJkXCIpO1xuXG52YXIgZ2V0U3FsQ29ubmVjdGlvbiA9IHJlcXVpcmUoJy4uL3NlcnZlckNvbmZpZy9kYXRhYmFzZUNvbm5lY3Rpb24nKTtcblxudmFyIGRlbGV0ZVBlcnNvbiA9IGZ1bmN0aW9uKHJlcSwgZG9uZSkge1xuXHRQcm9taXNlLnVzaW5nKGdldFNxbENvbm5lY3Rpb24oKSwgZnVuY3Rpb24oY29ubmVjdGlvbikge1xuXHRcdHJldHVybiBjb25uZWN0aW9uLnF1ZXJ5KFwiREVMRVRFIEZST00gUGVyc29ucyBXSEVSRSBIRVgoSUQpID0gP1wiICwgW3JlcS5wYXJhbXMuaWRdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdHMpIHtcblx0XHRcdHJldHVybiBkb25lKG51bGwpO1xuXHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHRkb25lKGVycm9yKTtcblx0XHR9KVxuXHR9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWxldGVQZXJzb247XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYXBpL3NlcnZlck9iamVjdHMvZGVsZXRlUGVyc29uLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }
/******/ ]);